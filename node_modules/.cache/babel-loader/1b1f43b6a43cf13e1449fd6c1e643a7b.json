{"ast":null,"code":"import { Vector3, Curve } from 'three';\nimport { ParametricGeometry } from './ParametricGeometry.js';\n/**\n * Experimenting of primitive geometry creation using Surface Parametric equations\n */\n\nconst ParametricGeometries = {\n  klein: function (v, u, target) {\n    u *= Math.PI;\n    v *= 2 * Math.PI;\n    u = u * 2;\n    let x, z;\n\n    if (u < Math.PI) {\n      x = 3 * Math.cos(u) * (1 + Math.sin(u)) + 2 * (1 - Math.cos(u) / 2) * Math.cos(u) * Math.cos(v);\n      z = -8 * Math.sin(u) - 2 * (1 - Math.cos(u) / 2) * Math.sin(u) * Math.cos(v);\n    } else {\n      x = 3 * Math.cos(u) * (1 + Math.sin(u)) + 2 * (1 - Math.cos(u) / 2) * Math.cos(v + Math.PI);\n      z = -8 * Math.sin(u);\n    }\n\n    const y = -2 * (1 - Math.cos(u) / 2) * Math.sin(v);\n    target.set(x, y, z);\n  },\n  plane: function (width, height) {\n    return function (u, v, target) {\n      const x = u * width;\n      const y = 0;\n      const z = v * height;\n      target.set(x, y, z);\n    };\n  },\n  mobius: function (u, t, target) {\n    // flat mobius strip\n    // http://www.wolframalpha.com/input/?i=M%C3%B6bius+strip+parametric+equations&lk=1&a=ClashPrefs_*Surface.MoebiusStrip.SurfaceProperty.ParametricEquations-\n    u = u - 0.5;\n    const v = 2 * Math.PI * t;\n    const a = 2;\n    const x = Math.cos(v) * (a + u * Math.cos(v / 2));\n    const y = Math.sin(v) * (a + u * Math.cos(v / 2));\n    const z = u * Math.sin(v / 2);\n    target.set(x, y, z);\n  },\n  mobius3d: function (u, t, target) {\n    // volumetric mobius strip\n    u *= Math.PI;\n    t *= 2 * Math.PI;\n    u = u * 2;\n    const phi = u / 2;\n    const major = 2.25,\n          a = 0.125,\n          b = 0.65;\n    let x = a * Math.cos(t) * Math.cos(phi) - b * Math.sin(t) * Math.sin(phi);\n    const z = a * Math.cos(t) * Math.sin(phi) + b * Math.sin(t) * Math.cos(phi);\n    const y = (major + x) * Math.sin(u);\n    x = (major + x) * Math.cos(u);\n    target.set(x, y, z);\n  }\n};\n/*********************************************\n *\n * Parametric Replacement for TubeGeometry\n *\n *********************************************/\n\nParametricGeometries.TubeGeometry = class TubeGeometry extends ParametricGeometry {\n  constructor(path, segments = 64, radius = 1, segmentsRadius = 8, closed = false) {\n    const numpoints = segments + 1;\n    const frames = path.computeFrenetFrames(segments, closed),\n          tangents = frames.tangents,\n          normals = frames.normals,\n          binormals = frames.binormals;\n    const position = new Vector3();\n\n    function ParametricTube(u, v, target) {\n      v *= 2 * Math.PI;\n      const i = Math.floor(u * (numpoints - 1));\n      path.getPointAt(u, position);\n      const normal = normals[i];\n      const binormal = binormals[i];\n      const cx = -radius * Math.cos(v); // TODO: Hack: Negating it so it faces outside.\n\n      const cy = radius * Math.sin(v);\n      position.x += cx * normal.x + cy * binormal.x;\n      position.y += cx * normal.y + cy * binormal.y;\n      position.z += cx * normal.z + cy * binormal.z;\n      target.copy(position);\n    }\n\n    super(ParametricTube, segments, segmentsRadius); // proxy internals\n\n    this.tangents = tangents;\n    this.normals = normals;\n    this.binormals = binormals;\n    this.path = path;\n    this.segments = segments;\n    this.radius = radius;\n    this.segmentsRadius = segmentsRadius;\n    this.closed = closed;\n  }\n\n};\n/*********************************************\n *\n * Parametric Replacement for TorusKnotGeometry\n *\n *********************************************/\n\nParametricGeometries.TorusKnotGeometry = class TorusKnotGeometry extends ParametricGeometries.TubeGeometry {\n  constructor(radius = 200, tube = 40, segmentsT = 64, segmentsR = 8, p = 2, q = 3) {\n    class TorusKnotCurve extends Curve {\n      getPoint(t, optionalTarget = new Vector3()) {\n        const point = optionalTarget;\n        t *= Math.PI * 2;\n        const r = 0.5;\n        const x = (1 + r * Math.cos(q * t)) * Math.cos(p * t);\n        const y = (1 + r * Math.cos(q * t)) * Math.sin(p * t);\n        const z = r * Math.sin(q * t);\n        return point.set(x, y, z).multiplyScalar(radius);\n      }\n\n    }\n\n    const segments = segmentsT;\n    const radiusSegments = segmentsR;\n    const extrudePath = new TorusKnotCurve();\n    super(extrudePath, segments, tube, radiusSegments, true, false);\n    this.radius = radius;\n    this.tube = tube;\n    this.segmentsT = segmentsT;\n    this.segmentsR = segmentsR;\n    this.p = p;\n    this.q = q;\n  }\n\n};\n/*********************************************\n *\n * Parametric Replacement for SphereGeometry\n *\n *********************************************/\n\nParametricGeometries.SphereGeometry = class SphereGeometry extends ParametricGeometry {\n  constructor(size, u, v) {\n    function sphere(u, v, target) {\n      u *= Math.PI;\n      v *= 2 * Math.PI;\n      const x = size * Math.sin(u) * Math.cos(v);\n      const y = size * Math.sin(u) * Math.sin(v);\n      const z = size * Math.cos(u);\n      target.set(x, y, z);\n    }\n\n    super(sphere, u, v);\n  }\n\n};\n/*********************************************\n *\n * Parametric Replacement for PlaneGeometry\n *\n *********************************************/\n\nParametricGeometries.PlaneGeometry = class PlaneGeometry extends ParametricGeometry {\n  constructor(width, depth, segmentsWidth, segmentsDepth) {\n    function plane(u, v, target) {\n      const x = u * width;\n      const y = 0;\n      const z = v * depth;\n      target.set(x, y, z);\n    }\n\n    super(plane, segmentsWidth, segmentsDepth);\n  }\n\n};\nexport { ParametricGeometries };","map":{"version":3,"sources":["/Users/osamakhan/Desktop/Apple-Website-Clone-React-master/node_modules/three-stdlib/geometries/ParametricGeometries.js"],"names":["Vector3","Curve","ParametricGeometry","ParametricGeometries","klein","v","u","target","Math","PI","x","z","cos","sin","y","set","plane","width","height","mobius","t","a","mobius3d","phi","major","b","TubeGeometry","constructor","path","segments","radius","segmentsRadius","closed","numpoints","frames","computeFrenetFrames","tangents","normals","binormals","position","ParametricTube","i","floor","getPointAt","normal","binormal","cx","cy","copy","TorusKnotGeometry","tube","segmentsT","segmentsR","p","q","TorusKnotCurve","getPoint","optionalTarget","point","r","multiplyScalar","radiusSegments","extrudePath","SphereGeometry","size","sphere","PlaneGeometry","depth","segmentsWidth","segmentsDepth"],"mappings":"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","sourcesContent":["import { Vector3, Curve } from 'three';\nimport { ParametricGeometry } from './ParametricGeometry.js';\n\n/**\n * Experimenting of primitive geometry creation using Surface Parametric equations\n */\n\nconst ParametricGeometries = {\n  klein: function (v, u, target) {\n    u *= Math.PI;\n    v *= 2 * Math.PI;\n    u = u * 2;\n    let x, z;\n\n    if (u < Math.PI) {\n      x = 3 * Math.cos(u) * (1 + Math.sin(u)) + 2 * (1 - Math.cos(u) / 2) * Math.cos(u) * Math.cos(v);\n      z = -8 * Math.sin(u) - 2 * (1 - Math.cos(u) / 2) * Math.sin(u) * Math.cos(v);\n    } else {\n      x = 3 * Math.cos(u) * (1 + Math.sin(u)) + 2 * (1 - Math.cos(u) / 2) * Math.cos(v + Math.PI);\n      z = -8 * Math.sin(u);\n    }\n\n    const y = -2 * (1 - Math.cos(u) / 2) * Math.sin(v);\n    target.set(x, y, z);\n  },\n  plane: function (width, height) {\n    return function (u, v, target) {\n      const x = u * width;\n      const y = 0;\n      const z = v * height;\n      target.set(x, y, z);\n    };\n  },\n  mobius: function (u, t, target) {\n    // flat mobius strip\n    // http://www.wolframalpha.com/input/?i=M%C3%B6bius+strip+parametric+equations&lk=1&a=ClashPrefs_*Surface.MoebiusStrip.SurfaceProperty.ParametricEquations-\n    u = u - 0.5;\n    const v = 2 * Math.PI * t;\n    const a = 2;\n    const x = Math.cos(v) * (a + u * Math.cos(v / 2));\n    const y = Math.sin(v) * (a + u * Math.cos(v / 2));\n    const z = u * Math.sin(v / 2);\n    target.set(x, y, z);\n  },\n  mobius3d: function (u, t, target) {\n    // volumetric mobius strip\n    u *= Math.PI;\n    t *= 2 * Math.PI;\n    u = u * 2;\n    const phi = u / 2;\n    const major = 2.25,\n          a = 0.125,\n          b = 0.65;\n    let x = a * Math.cos(t) * Math.cos(phi) - b * Math.sin(t) * Math.sin(phi);\n    const z = a * Math.cos(t) * Math.sin(phi) + b * Math.sin(t) * Math.cos(phi);\n    const y = (major + x) * Math.sin(u);\n    x = (major + x) * Math.cos(u);\n    target.set(x, y, z);\n  }\n};\n/*********************************************\n *\n * Parametric Replacement for TubeGeometry\n *\n *********************************************/\n\nParametricGeometries.TubeGeometry = class TubeGeometry extends ParametricGeometry {\n  constructor(path, segments = 64, radius = 1, segmentsRadius = 8, closed = false) {\n    const numpoints = segments + 1;\n    const frames = path.computeFrenetFrames(segments, closed),\n          tangents = frames.tangents,\n          normals = frames.normals,\n          binormals = frames.binormals;\n    const position = new Vector3();\n\n    function ParametricTube(u, v, target) {\n      v *= 2 * Math.PI;\n      const i = Math.floor(u * (numpoints - 1));\n      path.getPointAt(u, position);\n      const normal = normals[i];\n      const binormal = binormals[i];\n      const cx = -radius * Math.cos(v); // TODO: Hack: Negating it so it faces outside.\n\n      const cy = radius * Math.sin(v);\n      position.x += cx * normal.x + cy * binormal.x;\n      position.y += cx * normal.y + cy * binormal.y;\n      position.z += cx * normal.z + cy * binormal.z;\n      target.copy(position);\n    }\n\n    super(ParametricTube, segments, segmentsRadius); // proxy internals\n\n    this.tangents = tangents;\n    this.normals = normals;\n    this.binormals = binormals;\n    this.path = path;\n    this.segments = segments;\n    this.radius = radius;\n    this.segmentsRadius = segmentsRadius;\n    this.closed = closed;\n  }\n\n};\n/*********************************************\n *\n * Parametric Replacement for TorusKnotGeometry\n *\n *********************************************/\n\nParametricGeometries.TorusKnotGeometry = class TorusKnotGeometry extends ParametricGeometries.TubeGeometry {\n  constructor(radius = 200, tube = 40, segmentsT = 64, segmentsR = 8, p = 2, q = 3) {\n    class TorusKnotCurve extends Curve {\n      getPoint(t, optionalTarget = new Vector3()) {\n        const point = optionalTarget;\n        t *= Math.PI * 2;\n        const r = 0.5;\n        const x = (1 + r * Math.cos(q * t)) * Math.cos(p * t);\n        const y = (1 + r * Math.cos(q * t)) * Math.sin(p * t);\n        const z = r * Math.sin(q * t);\n        return point.set(x, y, z).multiplyScalar(radius);\n      }\n\n    }\n\n    const segments = segmentsT;\n    const radiusSegments = segmentsR;\n    const extrudePath = new TorusKnotCurve();\n    super(extrudePath, segments, tube, radiusSegments, true, false);\n    this.radius = radius;\n    this.tube = tube;\n    this.segmentsT = segmentsT;\n    this.segmentsR = segmentsR;\n    this.p = p;\n    this.q = q;\n  }\n\n};\n/*********************************************\n *\n * Parametric Replacement for SphereGeometry\n *\n *********************************************/\n\nParametricGeometries.SphereGeometry = class SphereGeometry extends ParametricGeometry {\n  constructor(size, u, v) {\n    function sphere(u, v, target) {\n      u *= Math.PI;\n      v *= 2 * Math.PI;\n      const x = size * Math.sin(u) * Math.cos(v);\n      const y = size * Math.sin(u) * Math.sin(v);\n      const z = size * Math.cos(u);\n      target.set(x, y, z);\n    }\n\n    super(sphere, u, v);\n  }\n\n};\n/*********************************************\n *\n * Parametric Replacement for PlaneGeometry\n *\n *********************************************/\n\nParametricGeometries.PlaneGeometry = class PlaneGeometry extends ParametricGeometry {\n  constructor(width, depth, segmentsWidth, segmentsDepth) {\n    function plane(u, v, target) {\n      const x = u * width;\n      const y = 0;\n      const z = v * depth;\n      target.set(x, y, z);\n    }\n\n    super(plane, segmentsWidth, segmentsDepth);\n  }\n\n};\n\nexport { ParametricGeometries };\n"]},"metadata":{},"sourceType":"module"}