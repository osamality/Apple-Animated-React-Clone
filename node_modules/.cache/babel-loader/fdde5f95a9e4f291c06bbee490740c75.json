{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar redux = function redux(reducer, initial) {\n  return function (set, get, api) {\n    api.dispatch = function (action) {\n      set(function (state) {\n        return reducer(state, action);\n      }, false, action);\n      return action;\n    };\n\n    api.dispatchFromDevtools = true;\n    return _extends({\n      dispatch: function dispatch() {\n        return api.dispatch.apply(api, arguments);\n      }\n    }, initial);\n  };\n};\n\nfunction devtools(fn, options) {\n  return function (set, get, api) {\n    var _serialize;\n\n    var didWarnAboutNameDeprecation = false;\n\n    if (typeof options === 'string' && !didWarnAboutNameDeprecation) {\n      console.warn('[zustand devtools middleware]: passing `name` as directly will be not allowed in next major' + 'pass the `name` in an object `{ name: ... }` instead');\n      didWarnAboutNameDeprecation = true;\n    }\n\n    var devtoolsOptions = options === undefined ? {\n      name: undefined,\n      anonymousActionType: undefined\n    } : typeof options === 'string' ? {\n      name: options\n    } : options;\n\n    if (typeof (devtoolsOptions == null ? void 0 : (_serialize = devtoolsOptions.serialize) == null ? void 0 : _serialize.options) !== 'undefined') {\n      console.warn('[zustand devtools middleware]: `serialize.options` is deprecated, just use `serialize`');\n    }\n\n    var extensionConnector;\n\n    try {\n      extensionConnector = window.__REDUX_DEVTOOLS_EXTENSION__ || window.top.__REDUX_DEVTOOLS_EXTENSION__;\n    } catch (_unused) {}\n\n    if (!extensionConnector) {\n      if (process.env.NODE_ENV !== \"production\" && typeof window !== 'undefined') {\n        console.warn('[zustand devtools middleware] Please install/enable Redux devtools extension');\n      }\n\n      return fn(set, get, api);\n    }\n\n    var extension = Object.create(extensionConnector.connect(devtoolsOptions));\n    var didWarnAboutDevtools = false;\n    Object.defineProperty(api, 'devtools', {\n      get: function get() {\n        if (!didWarnAboutDevtools) {\n          console.warn('[zustand devtools middleware] `devtools` property on the store is deprecated ' + 'it will be removed in the next major.\\n' + \"You shouldn't interact with the extension directly. But in case you still want to \" + 'you can patch `window.__REDUX_DEVTOOLS_EXTENSION__` directly');\n          didWarnAboutDevtools = true;\n        }\n\n        return extension;\n      },\n      set: function set(value) {\n        if (!didWarnAboutDevtools) {\n          console.warn('[zustand devtools middleware] `api.devtools` is deprecated, ' + 'it will be removed in the next major.\\n' + \"You shouldn't interact with the extension directly. But in case you still want to \" + 'you can patch `window.__REDUX_DEVTOOLS_EXTENSION__` directly');\n          didWarnAboutDevtools = true;\n        }\n\n        extension = value;\n      }\n    });\n    var didWarnAboutPrefix = false;\n    Object.defineProperty(extension, 'prefix', {\n      get: function get() {\n        if (!didWarnAboutPrefix) {\n          console.warn('[zustand devtools middleware] along with `api.devtools`, `api.devtools.prefix` is deprecated.\\n' + 'We no longer prefix the actions/names' + devtoolsOptions.name === undefined ? ', pass the `name` option to create a separate instance of devtools for each store.' : ', because the `name` option already creates a separate instance of devtools for each store.');\n          didWarnAboutPrefix = true;\n        }\n\n        return '';\n      },\n      set: function set() {\n        if (!didWarnAboutPrefix) {\n          console.warn('[zustand devtools middleware] along with `api.devtools`, `api.devtools.prefix` is deprecated.\\n' + 'We no longer prefix the actions/names' + devtoolsOptions.name === undefined ? ', pass the `name` option to create a separate instance of devtools for each store.' : ', because the `name` option already creates a separate instance of devtools for each store.');\n          didWarnAboutPrefix = true;\n        }\n      }\n    });\n    var isRecording = true;\n\n    api.setState = function (state, replace, nameOrAction) {\n      set(state, replace);\n      if (!isRecording) return;\n      extension.send(nameOrAction === undefined ? {\n        type: devtoolsOptions.anonymousActionType || 'anonymous'\n      } : typeof nameOrAction === 'string' ? {\n        type: nameOrAction\n      } : nameOrAction, get());\n    };\n\n    var setStateFromDevtools = function setStateFromDevtools() {\n      var originalIsRecording = isRecording;\n      isRecording = false;\n      set.apply(void 0, arguments);\n      isRecording = originalIsRecording;\n    };\n\n    var initialState = fn(api.setState, get, api);\n    extension.init(initialState);\n\n    if (api.dispatchFromDevtools && typeof api.dispatch === 'function') {\n      var didWarnAboutReservedActionType = false;\n      var originalDispatch = api.dispatch;\n\n      api.dispatch = function () {\n        for (var _len = arguments.length, a = new Array(_len), _key = 0; _key < _len; _key++) {\n          a[_key] = arguments[_key];\n        }\n\n        if (a[0].type === '__setState' && !didWarnAboutReservedActionType) {\n          console.warn('[zustand devtools middleware] \"__setState\" action type is reserved ' + 'to set state from the devtools. Avoid using it.');\n          didWarnAboutReservedActionType = true;\n        }\n\n        originalDispatch.apply(void 0, a);\n      };\n    }\n\n    extension.subscribe(function (message) {\n      switch (message.type) {\n        case 'ACTION':\n          if (typeof message.payload !== 'string') {\n            console.error('[zustand devtools middleware] Unsupported action format');\n            return;\n          }\n\n          return parseJsonThen(message.payload, function (action) {\n            if (action.type === '__setState') {\n              setStateFromDevtools(action.state);\n              return;\n            }\n\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== 'function') return;\n            api.dispatch(action);\n          });\n\n        case 'DISPATCH':\n          switch (message.payload.type) {\n            case 'RESET':\n              setStateFromDevtools(initialState);\n              return extension.init(api.getState());\n\n            case 'COMMIT':\n              return extension.init(api.getState());\n\n            case 'ROLLBACK':\n              return parseJsonThen(message.state, function (state) {\n                setStateFromDevtools(state);\n                extension.init(api.getState());\n              });\n\n            case 'JUMP_TO_STATE':\n            case 'JUMP_TO_ACTION':\n              return parseJsonThen(message.state, function (state) {\n                setStateFromDevtools(state);\n              });\n\n            case 'IMPORT_STATE':\n              {\n                var _nextLiftedState$comp;\n\n                var nextLiftedState = message.payload.nextLiftedState;\n                var lastComputedState = (_nextLiftedState$comp = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _nextLiftedState$comp.state;\n                if (!lastComputedState) return;\n                setStateFromDevtools(lastComputedState);\n                extension.send(null, nextLiftedState);\n                return;\n              }\n\n            case 'PAUSE_RECORDING':\n              return isRecording = !isRecording;\n          }\n\n          return;\n      }\n    });\n    return initialState;\n  };\n}\n\nvar parseJsonThen = function parseJsonThen(stringified, f) {\n  var parsed;\n\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error('[zustand devtools middleware] Could not parse the received json', e);\n  }\n\n  if (parsed !== undefined) f(parsed);\n};\n\nvar subscribeWithSelector = function subscribeWithSelector(fn) {\n  return function (set, get, api) {\n    var origSubscribe = api.subscribe;\n\n    api.subscribe = function (selector, optListener, options) {\n      var listener = selector;\n\n      if (optListener) {\n        var equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n        var currentSlice = selector(api.getState());\n\n        listener = function listener(state) {\n          var nextSlice = selector(state);\n\n          if (!equalityFn(currentSlice, nextSlice)) {\n            var previousSlice = currentSlice;\n            optListener(currentSlice = nextSlice, previousSlice);\n          }\n        };\n\n        if (options != null && options.fireImmediately) {\n          optListener(currentSlice, currentSlice);\n        }\n      }\n\n      return origSubscribe(listener);\n    };\n\n    var initialState = fn(set, get, api);\n    return initialState;\n  };\n};\n\nvar combine = function combine(initialState, create) {\n  return function (set, get, api) {\n    return Object.assign({}, initialState, create(set, get, api));\n  };\n};\n\nvar toThenable = function toThenable(fn) {\n  return function (input) {\n    try {\n      var result = fn(input);\n\n      if (result instanceof Promise) {\n        return result;\n      }\n\n      return {\n        then: function then(onFulfilled) {\n          return toThenable(onFulfilled)(result);\n        },\n        catch: function _catch(_onRejected) {\n          return this;\n        }\n      };\n    } catch (e) {\n      return {\n        then: function then(_onFulfilled) {\n          return this;\n        },\n        catch: function _catch(onRejected) {\n          return toThenable(onRejected)(e);\n        }\n      };\n    }\n  };\n};\n\nvar persist = function persist(config, baseOptions) {\n  return function (set, get, api) {\n    var options = _extends({\n      getStorage: function getStorage() {\n        return localStorage;\n      },\n      serialize: JSON.stringify,\n      deserialize: JSON.parse,\n      partialize: function partialize(state) {\n        return state;\n      },\n      version: 0,\n      merge: function merge(persistedState, currentState) {\n        return _extends({}, currentState, persistedState);\n      }\n    }, baseOptions);\n\n    if (options.blacklist || options.whitelist) {\n      console.warn(\"The \" + (options.blacklist ? 'blacklist' : 'whitelist') + \" option is deprecated and will be removed in the next version. Please use the 'partialize' option instead.\");\n    }\n\n    var _hasHydrated = false;\n    var hydrationListeners = new Set();\n    var finishHydrationListeners = new Set();\n    var storage;\n\n    try {\n      storage = options.getStorage();\n    } catch (e) {}\n\n    if (!storage) {\n      return config(function () {\n        console.warn(\"[zustand persist middleware] Unable to update item '\" + options.name + \"', the given storage is currently unavailable.\");\n        set.apply(void 0, arguments);\n      }, get, api);\n    } else if (!storage.removeItem) {\n      console.warn(\"[zustand persist middleware] The given storage for item '\" + options.name + \"' does not contain a 'removeItem' method, which will be required in v4.\");\n    }\n\n    var thenableSerialize = toThenable(options.serialize);\n\n    var setItem = function setItem() {\n      var state = options.partialize(_extends({}, get()));\n\n      if (options.whitelist) {\n        Object.keys(state).forEach(function (key) {\n          var _options$whitelist;\n\n          !((_options$whitelist = options.whitelist) != null && _options$whitelist.includes(key)) && delete state[key];\n        });\n      }\n\n      if (options.blacklist) {\n        options.blacklist.forEach(function (key) {\n          return delete state[key];\n        });\n      }\n\n      var errorInSync;\n      var thenable = thenableSerialize({\n        state: state,\n        version: options.version\n      }).then(function (serializedValue) {\n        return storage.setItem(options.name, serializedValue);\n      }).catch(function (e) {\n        errorInSync = e;\n      });\n\n      if (errorInSync) {\n        throw errorInSync;\n      }\n\n      return thenable;\n    };\n\n    var savedSetState = api.setState;\n\n    api.setState = function (state, replace) {\n      savedSetState(state, replace);\n      void setItem();\n    };\n\n    var configResult = config(function () {\n      set.apply(void 0, arguments);\n      void setItem();\n    }, get, api);\n    var stateFromStorage;\n\n    var hydrate = function hydrate() {\n      if (!storage) return;\n      _hasHydrated = false;\n      hydrationListeners.forEach(function (cb) {\n        return cb(get());\n      });\n      var postRehydrationCallback = (options.onRehydrateStorage == null ? void 0 : options.onRehydrateStorage(get())) || undefined;\n      return toThenable(storage.getItem.bind(storage))(options.name).then(function (storageValue) {\n        if (storageValue) {\n          return options.deserialize(storageValue);\n        }\n      }).then(function (deserializedStorageValue) {\n        if (deserializedStorageValue) {\n          if (typeof deserializedStorageValue.version === 'number' && deserializedStorageValue.version !== options.version) {\n            if (options.migrate) {\n              return options.migrate(deserializedStorageValue.state, deserializedStorageValue.version);\n            }\n\n            console.error(\"State loaded from storage couldn't be migrated since no migrate function was provided\");\n          } else {\n            return deserializedStorageValue.state;\n          }\n        }\n      }).then(function (migratedState) {\n        var _get;\n\n        stateFromStorage = options.merge(migratedState, (_get = get()) != null ? _get : configResult);\n        set(stateFromStorage, true);\n        return setItem();\n      }).then(function () {\n        postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, undefined);\n        _hasHydrated = true;\n        finishHydrationListeners.forEach(function (cb) {\n          return cb(stateFromStorage);\n        });\n      }).catch(function (e) {\n        postRehydrationCallback == null ? void 0 : postRehydrationCallback(undefined, e);\n      });\n    };\n\n    api.persist = {\n      setOptions: function setOptions(newOptions) {\n        options = _extends({}, options, newOptions);\n\n        if (newOptions.getStorage) {\n          storage = newOptions.getStorage();\n        }\n      },\n      clearStorage: function clearStorage() {\n        var _storage;\n\n        (_storage = storage) == null ? void 0 : _storage.removeItem == null ? void 0 : _storage.removeItem(options.name);\n      },\n      rehydrate: function rehydrate() {\n        return hydrate();\n      },\n      hasHydrated: function hasHydrated() {\n        return _hasHydrated;\n      },\n      onHydrate: function onHydrate(cb) {\n        hydrationListeners.add(cb);\n        return function () {\n          hydrationListeners.delete(cb);\n        };\n      },\n      onFinishHydration: function onFinishHydration(cb) {\n        finishHydrationListeners.add(cb);\n        return function () {\n          finishHydrationListeners.delete(cb);\n        };\n      }\n    };\n    hydrate();\n    return stateFromStorage || configResult;\n  };\n};\n\nexports.combine = combine;\nexports.devtools = devtools;\nexports.persist = persist;\nexports.redux = redux;\nexports.subscribeWithSelector = subscribeWithSelector;","map":{"version":3,"sources":["/Users/osamakhan/Desktop/dev/Apple-Animated-React-Clone/node_modules/zustand/middleware.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","redux","reducer","initial","set","get","api","dispatch","action","state","dispatchFromDevtools","devtools","fn","options","_serialize","didWarnAboutNameDeprecation","console","warn","devtoolsOptions","undefined","name","anonymousActionType","serialize","extensionConnector","window","__REDUX_DEVTOOLS_EXTENSION__","top","_unused","process","env","NODE_ENV","extension","create","connect","didWarnAboutDevtools","didWarnAboutPrefix","isRecording","setState","replace","nameOrAction","send","type","setStateFromDevtools","originalIsRecording","initialState","init","didWarnAboutReservedActionType","originalDispatch","_len","a","Array","_key","subscribe","message","payload","error","parseJsonThen","getState","_nextLiftedState$comp","nextLiftedState","lastComputedState","computedStates","slice","stringified","f","parsed","JSON","parse","e","subscribeWithSelector","origSubscribe","selector","optListener","listener","equalityFn","is","currentSlice","nextSlice","previousSlice","fireImmediately","combine","toThenable","input","result","Promise","then","onFulfilled","catch","_catch","_onRejected","_onFulfilled","onRejected","persist","config","baseOptions","getStorage","localStorage","stringify","deserialize","partialize","version","merge","persistedState","currentState","blacklist","whitelist","_hasHydrated","hydrationListeners","Set","finishHydrationListeners","storage","removeItem","thenableSerialize","setItem","keys","forEach","_options$whitelist","includes","errorInSync","thenable","serializedValue","savedSetState","configResult","stateFromStorage","hydrate","cb","postRehydrationCallback","onRehydrateStorage","getItem","bind","storageValue","deserializedStorageValue","migrate","migratedState","_get","setOptions","newOptions","clearStorage","_storage","rehydrate","hasHydrated","onHydrate","add","delete","onFinishHydration"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar redux = function redux(reducer, initial) {\n  return function (set, get, api) {\n    api.dispatch = function (action) {\n      set(function (state) {\n        return reducer(state, action);\n      }, false, action);\n      return action;\n    };\n\n    api.dispatchFromDevtools = true;\n    return _extends({\n      dispatch: function dispatch() {\n        return api.dispatch.apply(api, arguments);\n      }\n    }, initial);\n  };\n};\n\nfunction devtools(fn, options) {\n  return function (set, get, api) {\n    var _serialize;\n\n    var didWarnAboutNameDeprecation = false;\n\n    if (typeof options === 'string' && !didWarnAboutNameDeprecation) {\n      console.warn('[zustand devtools middleware]: passing `name` as directly will be not allowed in next major' + 'pass the `name` in an object `{ name: ... }` instead');\n      didWarnAboutNameDeprecation = true;\n    }\n\n    var devtoolsOptions = options === undefined ? {\n      name: undefined,\n      anonymousActionType: undefined\n    } : typeof options === 'string' ? {\n      name: options\n    } : options;\n\n    if (typeof (devtoolsOptions == null ? void 0 : (_serialize = devtoolsOptions.serialize) == null ? void 0 : _serialize.options) !== 'undefined') {\n      console.warn('[zustand devtools middleware]: `serialize.options` is deprecated, just use `serialize`');\n    }\n\n    var extensionConnector;\n\n    try {\n      extensionConnector = window.__REDUX_DEVTOOLS_EXTENSION__ || window.top.__REDUX_DEVTOOLS_EXTENSION__;\n    } catch (_unused) {}\n\n    if (!extensionConnector) {\n      if (process.env.NODE_ENV !== \"production\" && typeof window !== 'undefined') {\n        console.warn('[zustand devtools middleware] Please install/enable Redux devtools extension');\n      }\n\n      return fn(set, get, api);\n    }\n\n    var extension = Object.create(extensionConnector.connect(devtoolsOptions));\n    var didWarnAboutDevtools = false;\n    Object.defineProperty(api, 'devtools', {\n      get: function get() {\n        if (!didWarnAboutDevtools) {\n          console.warn('[zustand devtools middleware] `devtools` property on the store is deprecated ' + 'it will be removed in the next major.\\n' + \"You shouldn't interact with the extension directly. But in case you still want to \" + 'you can patch `window.__REDUX_DEVTOOLS_EXTENSION__` directly');\n          didWarnAboutDevtools = true;\n        }\n\n        return extension;\n      },\n      set: function set(value) {\n        if (!didWarnAboutDevtools) {\n          console.warn('[zustand devtools middleware] `api.devtools` is deprecated, ' + 'it will be removed in the next major.\\n' + \"You shouldn't interact with the extension directly. But in case you still want to \" + 'you can patch `window.__REDUX_DEVTOOLS_EXTENSION__` directly');\n          didWarnAboutDevtools = true;\n        }\n\n        extension = value;\n      }\n    });\n    var didWarnAboutPrefix = false;\n    Object.defineProperty(extension, 'prefix', {\n      get: function get() {\n        if (!didWarnAboutPrefix) {\n          console.warn('[zustand devtools middleware] along with `api.devtools`, `api.devtools.prefix` is deprecated.\\n' + 'We no longer prefix the actions/names' + devtoolsOptions.name === undefined ? ', pass the `name` option to create a separate instance of devtools for each store.' : ', because the `name` option already creates a separate instance of devtools for each store.');\n          didWarnAboutPrefix = true;\n        }\n\n        return '';\n      },\n      set: function set() {\n        if (!didWarnAboutPrefix) {\n          console.warn('[zustand devtools middleware] along with `api.devtools`, `api.devtools.prefix` is deprecated.\\n' + 'We no longer prefix the actions/names' + devtoolsOptions.name === undefined ? ', pass the `name` option to create a separate instance of devtools for each store.' : ', because the `name` option already creates a separate instance of devtools for each store.');\n          didWarnAboutPrefix = true;\n        }\n      }\n    });\n    var isRecording = true;\n\n    api.setState = function (state, replace, nameOrAction) {\n      set(state, replace);\n      if (!isRecording) return;\n      extension.send(nameOrAction === undefined ? {\n        type: devtoolsOptions.anonymousActionType || 'anonymous'\n      } : typeof nameOrAction === 'string' ? {\n        type: nameOrAction\n      } : nameOrAction, get());\n    };\n\n    var setStateFromDevtools = function setStateFromDevtools() {\n      var originalIsRecording = isRecording;\n      isRecording = false;\n      set.apply(void 0, arguments);\n      isRecording = originalIsRecording;\n    };\n\n    var initialState = fn(api.setState, get, api);\n    extension.init(initialState);\n\n    if (api.dispatchFromDevtools && typeof api.dispatch === 'function') {\n      var didWarnAboutReservedActionType = false;\n      var originalDispatch = api.dispatch;\n\n      api.dispatch = function () {\n        for (var _len = arguments.length, a = new Array(_len), _key = 0; _key < _len; _key++) {\n          a[_key] = arguments[_key];\n        }\n\n        if (a[0].type === '__setState' && !didWarnAboutReservedActionType) {\n          console.warn('[zustand devtools middleware] \"__setState\" action type is reserved ' + 'to set state from the devtools. Avoid using it.');\n          didWarnAboutReservedActionType = true;\n        }\n        originalDispatch.apply(void 0, a);\n      };\n    }\n\n    extension.subscribe(function (message) {\n      switch (message.type) {\n        case 'ACTION':\n          if (typeof message.payload !== 'string') {\n            console.error('[zustand devtools middleware] Unsupported action format');\n            return;\n          }\n\n          return parseJsonThen(message.payload, function (action) {\n            if (action.type === '__setState') {\n              setStateFromDevtools(action.state);\n              return;\n            }\n\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== 'function') return;\n            api.dispatch(action);\n          });\n\n        case 'DISPATCH':\n          switch (message.payload.type) {\n            case 'RESET':\n              setStateFromDevtools(initialState);\n              return extension.init(api.getState());\n\n            case 'COMMIT':\n              return extension.init(api.getState());\n\n            case 'ROLLBACK':\n              return parseJsonThen(message.state, function (state) {\n                setStateFromDevtools(state);\n                extension.init(api.getState());\n              });\n\n            case 'JUMP_TO_STATE':\n            case 'JUMP_TO_ACTION':\n              return parseJsonThen(message.state, function (state) {\n                setStateFromDevtools(state);\n              });\n\n            case 'IMPORT_STATE':\n              {\n                var _nextLiftedState$comp;\n\n                var nextLiftedState = message.payload.nextLiftedState;\n                var lastComputedState = (_nextLiftedState$comp = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _nextLiftedState$comp.state;\n                if (!lastComputedState) return;\n                setStateFromDevtools(lastComputedState);\n                extension.send(null, nextLiftedState);\n                return;\n              }\n\n            case 'PAUSE_RECORDING':\n              return isRecording = !isRecording;\n          }\n\n          return;\n      }\n    });\n    return initialState;\n  };\n}\n\nvar parseJsonThen = function parseJsonThen(stringified, f) {\n  var parsed;\n\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error('[zustand devtools middleware] Could not parse the received json', e);\n  }\n\n  if (parsed !== undefined) f(parsed);\n};\n\nvar subscribeWithSelector = function subscribeWithSelector(fn) {\n  return function (set, get, api) {\n    var origSubscribe = api.subscribe;\n\n    api.subscribe = function (selector, optListener, options) {\n      var listener = selector;\n\n      if (optListener) {\n        var equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n        var currentSlice = selector(api.getState());\n\n        listener = function listener(state) {\n          var nextSlice = selector(state);\n\n          if (!equalityFn(currentSlice, nextSlice)) {\n            var previousSlice = currentSlice;\n            optListener(currentSlice = nextSlice, previousSlice);\n          }\n        };\n\n        if (options != null && options.fireImmediately) {\n          optListener(currentSlice, currentSlice);\n        }\n      }\n\n      return origSubscribe(listener);\n    };\n\n    var initialState = fn(set, get, api);\n    return initialState;\n  };\n};\n\nvar combine = function combine(initialState, create) {\n  return function (set, get, api) {\n    return Object.assign({}, initialState, create(set, get, api));\n  };\n};\n\nvar toThenable = function toThenable(fn) {\n  return function (input) {\n    try {\n      var result = fn(input);\n\n      if (result instanceof Promise) {\n        return result;\n      }\n\n      return {\n        then: function then(onFulfilled) {\n          return toThenable(onFulfilled)(result);\n        },\n        catch: function _catch(_onRejected) {\n          return this;\n        }\n      };\n    } catch (e) {\n      return {\n        then: function then(_onFulfilled) {\n          return this;\n        },\n        catch: function _catch(onRejected) {\n          return toThenable(onRejected)(e);\n        }\n      };\n    }\n  };\n};\n\nvar persist = function persist(config, baseOptions) {\n  return function (set, get, api) {\n    var options = _extends({\n      getStorage: function getStorage() {\n        return localStorage;\n      },\n      serialize: JSON.stringify,\n      deserialize: JSON.parse,\n      partialize: function partialize(state) {\n        return state;\n      },\n      version: 0,\n      merge: function merge(persistedState, currentState) {\n        return _extends({}, currentState, persistedState);\n      }\n    }, baseOptions);\n\n    if (options.blacklist || options.whitelist) {\n      console.warn(\"The \" + (options.blacklist ? 'blacklist' : 'whitelist') + \" option is deprecated and will be removed in the next version. Please use the 'partialize' option instead.\");\n    }\n\n    var _hasHydrated = false;\n    var hydrationListeners = new Set();\n    var finishHydrationListeners = new Set();\n    var storage;\n\n    try {\n      storage = options.getStorage();\n    } catch (e) {}\n\n    if (!storage) {\n      return config(function () {\n        console.warn(\"[zustand persist middleware] Unable to update item '\" + options.name + \"', the given storage is currently unavailable.\");\n        set.apply(void 0, arguments);\n      }, get, api);\n    } else if (!storage.removeItem) {\n      console.warn(\"[zustand persist middleware] The given storage for item '\" + options.name + \"' does not contain a 'removeItem' method, which will be required in v4.\");\n    }\n\n    var thenableSerialize = toThenable(options.serialize);\n\n    var setItem = function setItem() {\n      var state = options.partialize(_extends({}, get()));\n\n      if (options.whitelist) {\n        Object.keys(state).forEach(function (key) {\n          var _options$whitelist;\n\n          !((_options$whitelist = options.whitelist) != null && _options$whitelist.includes(key)) && delete state[key];\n        });\n      }\n\n      if (options.blacklist) {\n        options.blacklist.forEach(function (key) {\n          return delete state[key];\n        });\n      }\n\n      var errorInSync;\n      var thenable = thenableSerialize({\n        state: state,\n        version: options.version\n      }).then(function (serializedValue) {\n        return storage.setItem(options.name, serializedValue);\n      }).catch(function (e) {\n        errorInSync = e;\n      });\n\n      if (errorInSync) {\n        throw errorInSync;\n      }\n\n      return thenable;\n    };\n\n    var savedSetState = api.setState;\n\n    api.setState = function (state, replace) {\n      savedSetState(state, replace);\n      void setItem();\n    };\n\n    var configResult = config(function () {\n      set.apply(void 0, arguments);\n      void setItem();\n    }, get, api);\n    var stateFromStorage;\n\n    var hydrate = function hydrate() {\n      if (!storage) return;\n      _hasHydrated = false;\n      hydrationListeners.forEach(function (cb) {\n        return cb(get());\n      });\n      var postRehydrationCallback = (options.onRehydrateStorage == null ? void 0 : options.onRehydrateStorage(get())) || undefined;\n      return toThenable(storage.getItem.bind(storage))(options.name).then(function (storageValue) {\n        if (storageValue) {\n          return options.deserialize(storageValue);\n        }\n      }).then(function (deserializedStorageValue) {\n        if (deserializedStorageValue) {\n          if (typeof deserializedStorageValue.version === 'number' && deserializedStorageValue.version !== options.version) {\n            if (options.migrate) {\n              return options.migrate(deserializedStorageValue.state, deserializedStorageValue.version);\n            }\n\n            console.error(\"State loaded from storage couldn't be migrated since no migrate function was provided\");\n          } else {\n            return deserializedStorageValue.state;\n          }\n        }\n      }).then(function (migratedState) {\n        var _get;\n\n        stateFromStorage = options.merge(migratedState, (_get = get()) != null ? _get : configResult);\n        set(stateFromStorage, true);\n        return setItem();\n      }).then(function () {\n        postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, undefined);\n        _hasHydrated = true;\n        finishHydrationListeners.forEach(function (cb) {\n          return cb(stateFromStorage);\n        });\n      }).catch(function (e) {\n        postRehydrationCallback == null ? void 0 : postRehydrationCallback(undefined, e);\n      });\n    };\n\n    api.persist = {\n      setOptions: function setOptions(newOptions) {\n        options = _extends({}, options, newOptions);\n\n        if (newOptions.getStorage) {\n          storage = newOptions.getStorage();\n        }\n      },\n      clearStorage: function clearStorage() {\n        var _storage;\n\n        (_storage = storage) == null ? void 0 : _storage.removeItem == null ? void 0 : _storage.removeItem(options.name);\n      },\n      rehydrate: function rehydrate() {\n        return hydrate();\n      },\n      hasHydrated: function hasHydrated() {\n        return _hasHydrated;\n      },\n      onHydrate: function onHydrate(cb) {\n        hydrationListeners.add(cb);\n        return function () {\n          hydrationListeners.delete(cb);\n        };\n      },\n      onFinishHydration: function onFinishHydration(cb) {\n        finishHydrationListeners.add(cb);\n        return function () {\n          finishHydrationListeners.delete(cb);\n        };\n      }\n    };\n    hydrate();\n    return stateFromStorage || configResult;\n  };\n};\n\nexports.combine = combine;\nexports.devtools = devtools;\nexports.persist = persist;\nexports.redux = redux;\nexports.subscribeWithSelector = subscribeWithSelector;\n"]},"metadata":{},"sourceType":"script"}