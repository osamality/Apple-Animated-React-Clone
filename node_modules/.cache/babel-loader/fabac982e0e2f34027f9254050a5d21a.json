{"ast":null,"code":"import { useThree, useLoader } from '@react-three/fiber';\nimport { useEffect } from 'react';\nimport { KTX2Loader } from 'three-stdlib';\nimport { IsObject } from './useTexture.js';\nconst cdn = 'https://cdn.jsdelivr.net/gh/pmndrs/drei-assets@master';\n\nfunction useKTX2(input, basisPath = `${cdn}/basis/`) {\n  const gl = useThree(state => state.gl);\n  const textures = useLoader(KTX2Loader, IsObject(input) ? Object.values(input) : input, loader => {\n    loader.detectSupport(gl);\n    loader.setTranscoderPath(basisPath);\n  }); // https://github.com/mrdoob/three.js/issues/22696\n  // Upload the texture to the GPU immediately instead of waiting for the first render\n\n  useEffect(() => {\n    const array = Array.isArray(textures) ? textures : [textures];\n    array.forEach(gl.initTexture);\n  }, [gl, textures]);\n\n  if (IsObject(input)) {\n    const keys = Object.keys(input);\n    const keyed = {};\n    keys.forEach(key => Object.assign(keyed, {\n      [key]: textures[keys.indexOf(key)]\n    }));\n    return keyed;\n  } else {\n    return textures;\n  }\n}\n\nuseKTX2.preload = (url, basisPath = `${cdn}/basis/`) => useLoader.preload(KTX2Loader, url, loader => {\n  loader.setTranscoderPath(basisPath);\n});\n\nuseKTX2.clear = input => useLoader.clear(KTX2Loader, input);\n\nexport { useKTX2 };","map":{"version":3,"sources":["/Users/osamakhan/Desktop/Apple-Website-Clone-React-master/node_modules/@react-three/drei/core/useKTX2.js"],"names":["useThree","useLoader","useEffect","KTX2Loader","IsObject","cdn","useKTX2","input","basisPath","gl","state","textures","Object","values","loader","detectSupport","setTranscoderPath","array","Array","isArray","forEach","initTexture","keys","keyed","key","assign","indexOf","preload","url","clear"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,oBAApC;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,QAAT,QAAyB,iBAAzB;AAEA,MAAMC,GAAG,GAAG,uDAAZ;;AACA,SAASC,OAAT,CAAiBC,KAAjB,EAAwBC,SAAS,GAAI,GAAEH,GAAI,SAA3C,EAAqD;AACnD,QAAMI,EAAE,GAAGT,QAAQ,CAACU,KAAK,IAAIA,KAAK,CAACD,EAAhB,CAAnB;AACA,QAAME,QAAQ,GAAGV,SAAS,CAACE,UAAD,EAAaC,QAAQ,CAACG,KAAD,CAAR,GAAkBK,MAAM,CAACC,MAAP,CAAcN,KAAd,CAAlB,GAAyCA,KAAtD,EAA6DO,MAAM,IAAI;AAC/FA,IAAAA,MAAM,CAACC,aAAP,CAAqBN,EAArB;AACAK,IAAAA,MAAM,CAACE,iBAAP,CAAyBR,SAAzB;AACD,GAHyB,CAA1B,CAFmD,CAK/C;AACJ;;AAEAN,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMe,KAAK,GAAGC,KAAK,CAACC,OAAN,CAAcR,QAAd,IAA0BA,QAA1B,GAAqC,CAACA,QAAD,CAAnD;AACAM,IAAAA,KAAK,CAACG,OAAN,CAAcX,EAAE,CAACY,WAAjB;AACD,GAHQ,EAGN,CAACZ,EAAD,EAAKE,QAAL,CAHM,CAAT;;AAKA,MAAIP,QAAQ,CAACG,KAAD,CAAZ,EAAqB;AACnB,UAAMe,IAAI,GAAGV,MAAM,CAACU,IAAP,CAAYf,KAAZ,CAAb;AACA,UAAMgB,KAAK,GAAG,EAAd;AACAD,IAAAA,IAAI,CAACF,OAAL,CAAaI,GAAG,IAAIZ,MAAM,CAACa,MAAP,CAAcF,KAAd,EAAqB;AACvC,OAACC,GAAD,GAAOb,QAAQ,CAACW,IAAI,CAACI,OAAL,CAAaF,GAAb,CAAD;AADwB,KAArB,CAApB;AAGA,WAAOD,KAAP;AACD,GAPD,MAOO;AACL,WAAOZ,QAAP;AACD;AACF;;AAEDL,OAAO,CAACqB,OAAR,GAAkB,CAACC,GAAD,EAAMpB,SAAS,GAAI,GAAEH,GAAI,SAAzB,KAAsCJ,SAAS,CAAC0B,OAAV,CAAkBxB,UAAlB,EAA8ByB,GAA9B,EAAmCd,MAAM,IAAI;AACnGA,EAAAA,MAAM,CAACE,iBAAP,CAAyBR,SAAzB;AACD,CAFuD,CAAxD;;AAIAF,OAAO,CAACuB,KAAR,GAAgBtB,KAAK,IAAIN,SAAS,CAAC4B,KAAV,CAAgB1B,UAAhB,EAA4BI,KAA5B,CAAzB;;AAEA,SAASD,OAAT","sourcesContent":["import { useThree, useLoader } from '@react-three/fiber';\nimport { useEffect } from 'react';\nimport { KTX2Loader } from 'three-stdlib';\nimport { IsObject } from './useTexture.js';\n\nconst cdn = 'https://cdn.jsdelivr.net/gh/pmndrs/drei-assets@master';\nfunction useKTX2(input, basisPath = `${cdn}/basis/`) {\n  const gl = useThree(state => state.gl);\n  const textures = useLoader(KTX2Loader, IsObject(input) ? Object.values(input) : input, loader => {\n    loader.detectSupport(gl);\n    loader.setTranscoderPath(basisPath);\n  }); // https://github.com/mrdoob/three.js/issues/22696\n  // Upload the texture to the GPU immediately instead of waiting for the first render\n\n  useEffect(() => {\n    const array = Array.isArray(textures) ? textures : [textures];\n    array.forEach(gl.initTexture);\n  }, [gl, textures]);\n\n  if (IsObject(input)) {\n    const keys = Object.keys(input);\n    const keyed = {};\n    keys.forEach(key => Object.assign(keyed, {\n      [key]: textures[keys.indexOf(key)]\n    }));\n    return keyed;\n  } else {\n    return textures;\n  }\n}\n\nuseKTX2.preload = (url, basisPath = `${cdn}/basis/`) => useLoader.preload(KTX2Loader, url, loader => {\n  loader.setTranscoderPath(basisPath);\n});\n\nuseKTX2.clear = input => useLoader.clear(KTX2Loader, input);\n\nexport { useKTX2 };\n"]},"metadata":{},"sourceType":"module"}