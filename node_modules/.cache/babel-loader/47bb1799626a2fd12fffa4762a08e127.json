{"ast":null,"code":"import Node from '../core/Node.js';\nimport LightNode from './LightNode.js';\n\nconst sortLights = lights => {\n  return lights.sort((a, b) => a.id - b.id);\n};\n\nclass LightsNode extends Node {\n  constructor(lightNodes = []) {\n    super('vec3');\n    this.lightNodes = lightNodes;\n    this._hash = null;\n  }\n\n  get hasLight() {\n    return this.lightNodes.length > 0;\n  }\n\n  generate(builder) {\n    const lightNodes = this.lightNodes;\n\n    for (const lightNode of lightNodes) {\n      lightNode.build(builder);\n    }\n\n    return 'vec3( 0.0 )';\n  }\n\n  getHash() {\n    if (this._hash === null) {\n      let hash = '';\n      const lightNodes = this.lightNodes;\n\n      for (const lightNode of lightNodes) {\n        hash += lightNode.light.uuid + ' ';\n      }\n\n      this._hash = hash;\n    }\n\n    return this._hash;\n  }\n\n  getLightNodeByHash(hash) {\n    const lightNodes = this.lightNodes;\n\n    for (const lightNode of lightNodes) {\n      if (lightNode.light.uuid === hash) {\n        return lightNode;\n      }\n    }\n\n    return null;\n  }\n\n  fromLights(lights) {\n    const lightNodes = [];\n    lights = sortLights(lights);\n\n    for (const light of lights) {\n      let lightNode = this.getLightNodeByHash(light.uuid);\n\n      if (lightNode === null) {\n        lightNode = new LightNode(light);\n      }\n\n      lightNodes.push(lightNode);\n    }\n\n    this.lightNodes = lightNodes;\n    this._hash = null;\n    return this;\n  }\n\n}\n\nexport default LightsNode;","map":{"version":3,"sources":["/Users/osamakhan/Desktop/Apple-Website-Clone-React-master/node_modules/three-stdlib/nodes/lights/LightsNode.js"],"names":["Node","LightNode","sortLights","lights","sort","a","b","id","LightsNode","constructor","lightNodes","_hash","hasLight","length","generate","builder","lightNode","build","getHash","hash","light","uuid","getLightNodeByHash","fromLights","push"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,iBAAjB;AACA,OAAOC,SAAP,MAAsB,gBAAtB;;AAEA,MAAMC,UAAU,GAAGC,MAAM,IAAI;AAC3B,SAAOA,MAAM,CAACC,IAAP,CAAY,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACE,EAAF,GAAOD,CAAC,CAACC,EAA/B,CAAP;AACD,CAFD;;AAIA,MAAMC,UAAN,SAAyBR,IAAzB,CAA8B;AAC5BS,EAAAA,WAAW,CAACC,UAAU,GAAG,EAAd,EAAkB;AAC3B,UAAM,MAAN;AACA,SAAKA,UAAL,GAAkBA,UAAlB;AACA,SAAKC,KAAL,GAAa,IAAb;AACD;;AAED,MAAIC,QAAJ,GAAe;AACb,WAAO,KAAKF,UAAL,CAAgBG,MAAhB,GAAyB,CAAhC;AACD;;AAEDC,EAAAA,QAAQ,CAACC,OAAD,EAAU;AAChB,UAAML,UAAU,GAAG,KAAKA,UAAxB;;AAEA,SAAK,MAAMM,SAAX,IAAwBN,UAAxB,EAAoC;AAClCM,MAAAA,SAAS,CAACC,KAAV,CAAgBF,OAAhB;AACD;;AAED,WAAO,aAAP;AACD;;AAEDG,EAAAA,OAAO,GAAG;AACR,QAAI,KAAKP,KAAL,KAAe,IAAnB,EAAyB;AACvB,UAAIQ,IAAI,GAAG,EAAX;AACA,YAAMT,UAAU,GAAG,KAAKA,UAAxB;;AAEA,WAAK,MAAMM,SAAX,IAAwBN,UAAxB,EAAoC;AAClCS,QAAAA,IAAI,IAAIH,SAAS,CAACI,KAAV,CAAgBC,IAAhB,GAAuB,GAA/B;AACD;;AAED,WAAKV,KAAL,GAAaQ,IAAb;AACD;;AAED,WAAO,KAAKR,KAAZ;AACD;;AAEDW,EAAAA,kBAAkB,CAACH,IAAD,EAAO;AACvB,UAAMT,UAAU,GAAG,KAAKA,UAAxB;;AAEA,SAAK,MAAMM,SAAX,IAAwBN,UAAxB,EAAoC;AAClC,UAAIM,SAAS,CAACI,KAAV,CAAgBC,IAAhB,KAAyBF,IAA7B,EAAmC;AACjC,eAAOH,SAAP;AACD;AACF;;AAED,WAAO,IAAP;AACD;;AAEDO,EAAAA,UAAU,CAACpB,MAAD,EAAS;AACjB,UAAMO,UAAU,GAAG,EAAnB;AACAP,IAAAA,MAAM,GAAGD,UAAU,CAACC,MAAD,CAAnB;;AAEA,SAAK,MAAMiB,KAAX,IAAoBjB,MAApB,EAA4B;AAC1B,UAAIa,SAAS,GAAG,KAAKM,kBAAL,CAAwBF,KAAK,CAACC,IAA9B,CAAhB;;AAEA,UAAIL,SAAS,KAAK,IAAlB,EAAwB;AACtBA,QAAAA,SAAS,GAAG,IAAIf,SAAJ,CAAcmB,KAAd,CAAZ;AACD;;AAEDV,MAAAA,UAAU,CAACc,IAAX,CAAgBR,SAAhB;AACD;;AAED,SAAKN,UAAL,GAAkBA,UAAlB;AACA,SAAKC,KAAL,GAAa,IAAb;AACA,WAAO,IAAP;AACD;;AAjE2B;;AAqE9B,eAAeH,UAAf","sourcesContent":["import Node from '../core/Node.js';\nimport LightNode from './LightNode.js';\n\nconst sortLights = lights => {\n  return lights.sort((a, b) => a.id - b.id);\n};\n\nclass LightsNode extends Node {\n  constructor(lightNodes = []) {\n    super('vec3');\n    this.lightNodes = lightNodes;\n    this._hash = null;\n  }\n\n  get hasLight() {\n    return this.lightNodes.length > 0;\n  }\n\n  generate(builder) {\n    const lightNodes = this.lightNodes;\n\n    for (const lightNode of lightNodes) {\n      lightNode.build(builder);\n    }\n\n    return 'vec3( 0.0 )';\n  }\n\n  getHash() {\n    if (this._hash === null) {\n      let hash = '';\n      const lightNodes = this.lightNodes;\n\n      for (const lightNode of lightNodes) {\n        hash += lightNode.light.uuid + ' ';\n      }\n\n      this._hash = hash;\n    }\n\n    return this._hash;\n  }\n\n  getLightNodeByHash(hash) {\n    const lightNodes = this.lightNodes;\n\n    for (const lightNode of lightNodes) {\n      if (lightNode.light.uuid === hash) {\n        return lightNode;\n      }\n    }\n\n    return null;\n  }\n\n  fromLights(lights) {\n    const lightNodes = [];\n    lights = sortLights(lights);\n\n    for (const light of lights) {\n      let lightNode = this.getLightNodeByHash(light.uuid);\n\n      if (lightNode === null) {\n        lightNode = new LightNode(light);\n      }\n\n      lightNodes.push(lightNode);\n    }\n\n    this.lightNodes = lightNodes;\n    this._hash = null;\n    return this;\n  }\n\n}\n\nexport default LightsNode;\n"]},"metadata":{},"sourceType":"module"}