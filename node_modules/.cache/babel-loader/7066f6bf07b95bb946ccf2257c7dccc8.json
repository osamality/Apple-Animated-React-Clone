{"ast":null,"code":"import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport pick from 'lodash.pick';\nimport { SkeletonUtils } from 'three-stdlib';\n\nfunction createSpread(child, {\n  keys = ['near', 'far', 'color', 'distance', 'decay', 'penumbra', 'angle', 'intensity', 'skeleton', 'visible', 'castShadow', 'receiveShadow', 'morphTargetDictionary', 'morphTargetInfluences', 'name', 'geometry', 'material', 'position', 'rotation', 'scale', 'up', 'userData', 'bindMode', 'bindMatrix', 'bindMatrixInverse', 'skeleton'],\n  deep,\n  inject,\n  castShadow,\n  receiveShadow\n}) {\n  let spread = pick(child, keys);\n\n  if (deep) {\n    if (spread.geometry && deep !== 'materialsOnly') spread.geometry = spread.geometry.clone();\n    if (spread.material && deep !== 'geometriesOnly') spread.material = spread.material.clone();\n  }\n\n  if (inject) {\n    if (typeof inject === 'function') spread = { ...spread,\n      children: inject(child)\n    };else if ( /*#__PURE__*/React.isValidElement(inject)) spread = { ...spread,\n      children: inject\n    };else spread = { ...spread,\n      ...inject\n    };\n  }\n\n  if (child instanceof THREE.Mesh) {\n    if (castShadow) spread.castShadow = true;\n    if (receiveShadow) spread.receiveShadow = true;\n  }\n\n  return spread;\n}\n\nconst Clone = /*#__PURE__*/React.forwardRef(({\n  isChild = false,\n  object,\n  children,\n  deep,\n  castShadow,\n  receiveShadow,\n  inject,\n  keys,\n  ...props\n}, forwardRef) => {\n  var _object;\n\n  const config = {\n    keys,\n    deep,\n    inject,\n    castShadow,\n    receiveShadow\n  };\n  object = React.useMemo(() => {\n    if (isChild === false && !Array.isArray(object)) {\n      let isSkinned = false;\n      object.traverse(object => {\n        if (object.isSkinnedMesh) isSkinned = true;\n      });\n      if (isSkinned) return SkeletonUtils.clone(object);\n    }\n\n    return object;\n  }, [object, isChild]); // Deal with arrayed clones\n\n  if (Array.isArray(object)) {\n    return /*#__PURE__*/React.createElement(\"group\", _extends({}, props, {\n      ref: forwardRef\n    }), object.map(o => /*#__PURE__*/React.createElement(Clone, _extends({\n      key: o.uuid,\n      object: o\n    }, config))), children);\n  } // Singleton clones\n\n\n  const {\n    children: injectChildren,\n    ...spread\n  } = createSpread(object, config);\n  const Element = object.type[0].toLowerCase() + object.type.slice(1);\n  return /*#__PURE__*/React.createElement(Element, _extends({}, spread, props, {\n    ref: forwardRef\n  }), ((_object = object) == null ? void 0 : _object.children).map(child => {\n    if (child.type === 'Bone') return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n      key: child.uuid,\n      object: child\n    }, config));\n    return /*#__PURE__*/React.createElement(Clone, _extends({\n      key: child.uuid,\n      object: child\n    }, config, {\n      isChild: true\n    }));\n  }), children, injectChildren);\n});\nexport { Clone };","map":{"version":3,"sources":["/Users/osamakhan/Desktop/dev/Apple-Animated-React-Clone/node_modules/@react-three/drei/core/Clone.js"],"names":["_extends","THREE","React","pick","SkeletonUtils","createSpread","child","keys","deep","inject","castShadow","receiveShadow","spread","geometry","clone","material","children","isValidElement","Mesh","Clone","forwardRef","isChild","object","props","_object","config","useMemo","Array","isArray","isSkinned","traverse","isSkinnedMesh","createElement","ref","map","o","key","uuid","injectChildren","Element","type","toLowerCase","slice"],"mappings":"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","sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport pick from 'lodash.pick';\nimport { SkeletonUtils } from 'three-stdlib';\n\nfunction createSpread(child, {\n  keys = ['near', 'far', 'color', 'distance', 'decay', 'penumbra', 'angle', 'intensity', 'skeleton', 'visible', 'castShadow', 'receiveShadow', 'morphTargetDictionary', 'morphTargetInfluences', 'name', 'geometry', 'material', 'position', 'rotation', 'scale', 'up', 'userData', 'bindMode', 'bindMatrix', 'bindMatrixInverse', 'skeleton'],\n  deep,\n  inject,\n  castShadow,\n  receiveShadow\n}) {\n  let spread = pick(child, keys);\n\n  if (deep) {\n    if (spread.geometry && deep !== 'materialsOnly') spread.geometry = spread.geometry.clone();\n    if (spread.material && deep !== 'geometriesOnly') spread.material = spread.material.clone();\n  }\n\n  if (inject) {\n    if (typeof inject === 'function') spread = { ...spread,\n      children: inject(child)\n    };else if ( /*#__PURE__*/React.isValidElement(inject)) spread = { ...spread,\n      children: inject\n    };else spread = { ...spread,\n      ...inject\n    };\n  }\n\n  if (child instanceof THREE.Mesh) {\n    if (castShadow) spread.castShadow = true;\n    if (receiveShadow) spread.receiveShadow = true;\n  }\n\n  return spread;\n}\n\nconst Clone = /*#__PURE__*/React.forwardRef(({\n  isChild = false,\n  object,\n  children,\n  deep,\n  castShadow,\n  receiveShadow,\n  inject,\n  keys,\n  ...props\n}, forwardRef) => {\n  var _object;\n\n  const config = {\n    keys,\n    deep,\n    inject,\n    castShadow,\n    receiveShadow\n  };\n  object = React.useMemo(() => {\n    if (isChild === false && !Array.isArray(object)) {\n      let isSkinned = false;\n      object.traverse(object => {\n        if (object.isSkinnedMesh) isSkinned = true;\n      });\n      if (isSkinned) return SkeletonUtils.clone(object);\n    }\n\n    return object;\n  }, [object, isChild]); // Deal with arrayed clones\n\n  if (Array.isArray(object)) {\n    return /*#__PURE__*/React.createElement(\"group\", _extends({}, props, {\n      ref: forwardRef\n    }), object.map(o => /*#__PURE__*/React.createElement(Clone, _extends({\n      key: o.uuid,\n      object: o\n    }, config))), children);\n  } // Singleton clones\n\n\n  const {\n    children: injectChildren,\n    ...spread\n  } = createSpread(object, config);\n  const Element = object.type[0].toLowerCase() + object.type.slice(1);\n  return /*#__PURE__*/React.createElement(Element, _extends({}, spread, props, {\n    ref: forwardRef\n  }), ((_object = object) == null ? void 0 : _object.children).map(child => {\n    if (child.type === 'Bone') return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n      key: child.uuid,\n      object: child\n    }, config));\n    return /*#__PURE__*/React.createElement(Clone, _extends({\n      key: child.uuid,\n      object: child\n    }, config, {\n      isChild: true\n    }));\n  }), children, injectChildren);\n});\n\nexport { Clone };\n"]},"metadata":{},"sourceType":"module"}