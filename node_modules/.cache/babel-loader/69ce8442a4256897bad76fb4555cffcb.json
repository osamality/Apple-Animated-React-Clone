{"ast":null,"code":"import { a as _defineProperty, _ as _objectSpread2 } from './objectSpread2-284232a6.esm.js';\nimport { _ as _classCallCheck } from './classCallCheck-9098b006.esm.js';\nimport { l as lerp, f as fade } from './misc-7d870b3c.esm.js';\n/*\n * A speed-improved perlin and simplex noise algorithms for 2D.\n *\n * Based on example code by Stefan Gustavson (stegu@itn.liu.se).\n * Optimisations by Peter Eastman (peastman@drizzle.stanford.edu).\n * Better rank ordering method by Stefan Gustavson in 2012.\n * Converted to Javascript by Joseph Gentle.\n *\n * Version 2012-03-09\n *\n * This code was placed in the public domain by its original author,\n * Stefan Gustavson. You may use it as you see fit, but\n * attribution is appreciated.\n *\n */\n\nvar Grad = function Grad(x, y, z) {\n  var _this = this;\n\n  _classCallCheck(this, Grad);\n\n  _defineProperty(this, \"dot2\", function (x, y) {\n    return _this.x * x + _this.y * y;\n  });\n\n  _defineProperty(this, \"dot3\", function (x, y, z) {\n    return _this.x * x + _this.y * y + _this.z * z;\n  });\n\n  this.x = x;\n  this.y = y;\n  this.z = z;\n};\n\nvar grad3 = [new Grad(1, 1, 0), new Grad(-1, 1, 0), new Grad(1, -1, 0), new Grad(-1, -1, 0), new Grad(1, 0, 1), new Grad(-1, 0, 1), new Grad(1, 0, -1), new Grad(-1, 0, -1), new Grad(0, 1, 1), new Grad(0, -1, 1), new Grad(0, 1, -1), new Grad(0, -1, -1)];\nvar p = [151, 160, 137, 91, 90, 15, 131, 13, 201, 95, 96, 53, 194, 233, 7, 225, 140, 36, 103, 30, 69, 142, 8, 99, 37, 240, 21, 10, 23, 190, 6, 148, 247, 120, 234, 75, 0, 26, 197, 62, 94, 252, 219, 203, 117, 35, 11, 32, 57, 177, 33, 88, 237, 149, 56, 87, 174, 20, 125, 136, 171, 168, 68, 175, 74, 165, 71, 134, 139, 48, 27, 166, 77, 146, 158, 231, 83, 111, 229, 122, 60, 211, 133, 230, 220, 105, 92, 41, 55, 46, 245, 40, 244, 102, 143, 54, 65, 25, 63, 161, 1, 216, 80, 73, 209, 76, 132, 187, 208, 89, 18, 169, 200, 196, 135, 130, 116, 188, 159, 86, 164, 100, 109, 198, 173, 186, 3, 64, 52, 217, 226, 250, 124, 123, 5, 202, 38, 147, 118, 126, 255, 82, 85, 212, 207, 206, 59, 227, 47, 16, 58, 17, 182, 189, 28, 42, 223, 183, 170, 213, 119, 248, 152, 2, 44, 154, 163, 70, 221, 153, 101, 155, 167, 43, 172, 9, 129, 22, 39, 253, 19, 98, 108, 110, 79, 113, 224, 232, 178, 185, 112, 104, 218, 246, 97, 228, 251, 34, 242, 193, 238, 210, 144, 12, 191, 179, 162, 241, 81, 51, 145, 235, 249, 14, 239, 107, 49, 192, 214, 31, 181, 199, 106, 157, 184, 84, 204, 176, 115, 121, 50, 45, 127, 4, 150, 254, 138, 236, 205, 93, 222, 114, 67, 29, 24, 72, 243, 141, 128, 195, 78, 66, 215, 61, 156, 180]; // To remove the need for index wrapping, double the permutation table length\n\nvar perm = new Array(512);\nvar gradP = new Array(512); // This isn't a very good seeding function, but it works ok. It supports 2^16\n// different seed values. Write something better if you need more seeds.\n\nvar seed = function seed(_seed) {\n  if (_seed > 0 && _seed < 1) {\n    // Scale the seed out\n    _seed *= 65536;\n  }\n\n  _seed = Math.floor(_seed);\n\n  if (_seed < 256) {\n    _seed |= _seed << 8;\n  }\n\n  for (var i = 0; i < 256; i++) {\n    var v;\n\n    if (i & 1) {\n      v = p[i] ^ _seed & 255;\n    } else {\n      v = p[i] ^ _seed >> 8 & 255;\n    }\n\n    perm[i] = perm[i + 256] = v;\n    gradP[i] = gradP[i + 256] = grad3[v % 12];\n  }\n};\n\nseed(0);\n/*\n  for(var i=0; i<256; i++) {\n    perm[i] = perm[i + 256] = p[i];\n    gradP[i] = gradP[i + 256] = grad3[perm[i] % 12];\n  }*/\n// Skewing and unskewing factors for 2, 3, and 4 dimensions\n\nvar F2 = 0.5 * (Math.sqrt(3) - 1);\nvar G2 = (3 - Math.sqrt(3)) / 6;\nvar F3 = 1 / 3;\nvar G3 = 1 / 6; // 2D simplex noise\n\nvar simplex2 = function simplex2(xin, yin) {\n  var n0, n1, n2; // Noise contributions from the three corners\n  // Skew the input space to determine which simplex cell we're in\n\n  var s = (xin + yin) * F2; // Hairy factor for 2D\n\n  var i = Math.floor(xin + s);\n  var j = Math.floor(yin + s);\n  var t = (i + j) * G2;\n  var x0 = xin - i + t; // The x,y distances from the cell origin, unskewed.\n\n  var y0 = yin - j + t; // For the 2D case, the simplex shape is an equilateral triangle.\n  // Determine which simplex we are in.\n\n  var i1, j1; // Offsets for second (middle) corner of simplex in (i,j) coords\n\n  if (x0 > y0) {\n    // lower triangle, XY order: (0,0)->(1,0)->(1,1)\n    i1 = 1;\n    j1 = 0;\n  } else {\n    // upper triangle, YX order: (0,0)->(0,1)->(1,1)\n    i1 = 0;\n    j1 = 1;\n  } // A step of (1,0) in (i,j) means a step of (1-c,-c) in (x,y), and\n  // a step of (0,1) in (i,j) means a step of (-c,1-c) in (x,y), where\n  // c = (3-sqrt(3))/6\n\n\n  var x1 = x0 - i1 + G2; // Offsets for middle corner in (x,y) unskewed coords\n\n  var y1 = y0 - j1 + G2;\n  var x2 = x0 - 1 + 2 * G2; // Offsets for last corner in (x,y) unskewed coords\n\n  var y2 = y0 - 1 + 2 * G2; // Work out the hashed gradient indices of the three simplex corners\n\n  i &= 255;\n  j &= 255;\n  var gi0 = gradP[i + perm[j]];\n  var gi1 = gradP[i + i1 + perm[j + j1]];\n  var gi2 = gradP[i + 1 + perm[j + 1]]; // Calculate the contribution from the three corners\n\n  var t0 = 0.5 - x0 * x0 - y0 * y0;\n\n  if (t0 < 0) {\n    n0 = 0;\n  } else {\n    t0 *= t0;\n    n0 = t0 * t0 * gi0.dot2(x0, y0); // (x,y) of grad3 used for 2D gradient\n  }\n\n  var t1 = 0.5 - x1 * x1 - y1 * y1;\n\n  if (t1 < 0) {\n    n1 = 0;\n  } else {\n    t1 *= t1;\n    n1 = t1 * t1 * gi1.dot2(x1, y1);\n  }\n\n  var t2 = 0.5 - x2 * x2 - y2 * y2;\n\n  if (t2 < 0) {\n    n2 = 0;\n  } else {\n    t2 *= t2;\n    n2 = t2 * t2 * gi2.dot2(x2, y2);\n  } // Add contributions from each corner to get the final noise value.\n  // The result is scaled to return values in the interval [-1,1].\n\n\n  return 70 * (n0 + n1 + n2);\n}; // 3D simplex noise\n\n\nvar simplex3 = function simplex3(xin, yin, zin) {\n  var n0, n1, n2, n3; // Noise contributions from the four corners\n  // Skew the input space to determine which simplex cell we're in\n\n  var s = (xin + yin + zin) * F3; // Hairy factor for 2D\n\n  var i = Math.floor(xin + s);\n  var j = Math.floor(yin + s);\n  var k = Math.floor(zin + s);\n  var t = (i + j + k) * G3;\n  var x0 = xin - i + t; // The x,y distances from the cell origin, unskewed.\n\n  var y0 = yin - j + t;\n  var z0 = zin - k + t; // For the 3D case, the simplex shape is a slightly irregular tetrahedron.\n  // Determine which simplex we are in.\n\n  var i1, j1, k1; // Offsets for second corner of simplex in (i,j,k) coords\n\n  var i2, j2, k2; // Offsets for third corner of simplex in (i,j,k) coords\n\n  if (x0 >= y0) {\n    if (y0 >= z0) {\n      i1 = 1;\n      j1 = 0;\n      k1 = 0;\n      i2 = 1;\n      j2 = 1;\n      k2 = 0;\n    } else if (x0 >= z0) {\n      i1 = 1;\n      j1 = 0;\n      k1 = 0;\n      i2 = 1;\n      j2 = 0;\n      k2 = 1;\n    } else {\n      i1 = 0;\n      j1 = 0;\n      k1 = 1;\n      i2 = 1;\n      j2 = 0;\n      k2 = 1;\n    }\n  } else {\n    if (y0 < z0) {\n      i1 = 0;\n      j1 = 0;\n      k1 = 1;\n      i2 = 0;\n      j2 = 1;\n      k2 = 1;\n    } else if (x0 < z0) {\n      i1 = 0;\n      j1 = 1;\n      k1 = 0;\n      i2 = 0;\n      j2 = 1;\n      k2 = 1;\n    } else {\n      i1 = 0;\n      j1 = 1;\n      k1 = 0;\n      i2 = 1;\n      j2 = 1;\n      k2 = 0;\n    }\n  } // A step of (1,0,0) in (i,j,k) means a step of (1-c,-c,-c) in (x,y,z),\n  // a step of (0,1,0) in (i,j,k) means a step of (-c,1-c,-c) in (x,y,z), and\n  // a step of (0,0,1) in (i,j,k) means a step of (-c,-c,1-c) in (x,y,z), where\n  // c = 1/6.\n\n\n  var x1 = x0 - i1 + G3; // Offsets for second corner\n\n  var y1 = y0 - j1 + G3;\n  var z1 = z0 - k1 + G3;\n  var x2 = x0 - i2 + 2 * G3; // Offsets for third corner\n\n  var y2 = y0 - j2 + 2 * G3;\n  var z2 = z0 - k2 + 2 * G3;\n  var x3 = x0 - 1 + 3 * G3; // Offsets for fourth corner\n\n  var y3 = y0 - 1 + 3 * G3;\n  var z3 = z0 - 1 + 3 * G3; // Work out the hashed gradient indices of the four simplex corners\n\n  i &= 255;\n  j &= 255;\n  k &= 255;\n  var gi0 = gradP[i + perm[j + perm[k]]];\n  var gi1 = gradP[i + i1 + perm[j + j1 + perm[k + k1]]];\n  var gi2 = gradP[i + i2 + perm[j + j2 + perm[k + k2]]];\n  var gi3 = gradP[i + 1 + perm[j + 1 + perm[k + 1]]]; // Calculate the contribution from the four corners\n\n  var t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0;\n\n  if (t0 < 0) {\n    n0 = 0;\n  } else {\n    t0 *= t0;\n    n0 = t0 * t0 * gi0.dot3(x0, y0, z0); // (x,y) of grad3 used for 2D gradient\n  }\n\n  var t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1;\n\n  if (t1 < 0) {\n    n1 = 0;\n  } else {\n    t1 *= t1;\n    n1 = t1 * t1 * gi1.dot3(x1, y1, z1);\n  }\n\n  var t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2;\n\n  if (t2 < 0) {\n    n2 = 0;\n  } else {\n    t2 *= t2;\n    n2 = t2 * t2 * gi2.dot3(x2, y2, z2);\n  }\n\n  var t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3;\n\n  if (t3 < 0) {\n    n3 = 0;\n  } else {\n    t3 *= t3;\n    n3 = t3 * t3 * gi3.dot3(x3, y3, z3);\n  } // Add contributions from each corner to get the final noise value.\n  // The result is scaled to return values in the interval [-1,1].\n\n\n  return 32 * (n0 + n1 + n2 + n3);\n}; // ##### Perlin noise stuff\n// 2D Perlin Noise\n\n\nvar perlin2 = function perlin2(x, y) {\n  // Find unit grid cell containing point\n  var X = Math.floor(x),\n      Y = Math.floor(y); // Get relative xy coordinates of point within that cell\n\n  x = x - X;\n  y = y - Y; // Wrap the integer cells at 255 (smaller integer period can be introduced here)\n\n  X = X & 255;\n  Y = Y & 255; // Calculate noise contributions from each of the four corners\n\n  var n00 = gradP[X + perm[Y]].dot2(x, y);\n  var n01 = gradP[X + perm[Y + 1]].dot2(x, y - 1);\n  var n10 = gradP[X + 1 + perm[Y]].dot2(x - 1, y);\n  var n11 = gradP[X + 1 + perm[Y + 1]].dot2(x - 1, y - 1); // Compute the fade curve value for x\n\n  var u = fade(x); // Interpolate the four results\n\n  return lerp(lerp(n00, n10, u), lerp(n01, n11, u), fade(y));\n}; // 3D Perlin Noise\n\n\nvar perlin3 = function perlin3(x, y, z) {\n  // Find unit grid cell containing point\n  var X = Math.floor(x),\n      Y = Math.floor(y),\n      Z = Math.floor(z); // Get relative xyz coordinates of point within that cell\n\n  x = x - X;\n  y = y - Y;\n  z = z - Z; // Wrap the integer cells at 255 (smaller integer period can be introduced here)\n\n  X = X & 255;\n  Y = Y & 255;\n  Z = Z & 255; // Calculate noise contributions from each of the eight corners\n\n  var n000 = gradP[X + perm[Y + perm[Z]]].dot3(x, y, z);\n  var n001 = gradP[X + perm[Y + perm[Z + 1]]].dot3(x, y, z - 1);\n  var n010 = gradP[X + perm[Y + 1 + perm[Z]]].dot3(x, y - 1, z);\n  var n011 = gradP[X + perm[Y + 1 + perm[Z + 1]]].dot3(x, y - 1, z - 1);\n  var n100 = gradP[X + 1 + perm[Y + perm[Z]]].dot3(x - 1, y, z);\n  var n101 = gradP[X + 1 + perm[Y + perm[Z + 1]]].dot3(x - 1, y, z - 1);\n  var n110 = gradP[X + 1 + perm[Y + 1 + perm[Z]]].dot3(x - 1, y - 1, z);\n  var n111 = gradP[X + 1 + perm[Y + 1 + perm[Z + 1]]].dot3(x - 1, y - 1, z - 1); // Compute the fade curve value for x, y, z\n\n  var u = fade(x);\n  var v = fade(y);\n  var w = fade(z); // Interpolate\n\n  return lerp(lerp(lerp(n000, n100, u), lerp(n001, n101, u), w), lerp(lerp(n010, n110, u), lerp(n011, n111, u), w), v);\n};\n\nvar noise = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  seed: seed,\n  simplex2: simplex2,\n  simplex3: simplex3,\n  perlin2: perlin2,\n  perlin3: perlin3\n});\nvar TAU = Math.PI * 2; // Credits @kchapelier https://github.com/kchapelier/wavefunctioncollapse/blob/master/example/lcg.js#L22-L30\n\nfunction normalizeSeed(seed) {\n  if (typeof seed === \"number\") {\n    seed = Math.abs(seed);\n  } else if (typeof seed === \"string\") {\n    var string = seed;\n    seed = 0;\n\n    for (var i = 0; i < string.length; i++) {\n      seed = (seed + (i + 1) * (string.charCodeAt(i) % 96)) % 2147483647;\n    }\n  }\n\n  if (seed === 0) {\n    seed = 311;\n  }\n\n  return seed;\n}\n\nfunction lcgRandom(seed) {\n  var state = normalizeSeed(seed);\n  return function () {\n    var result = state * 48271 % 2147483647;\n    state = result;\n    return result / 2147483647;\n  };\n}\n\nvar Generator = function Generator(_seed) {\n  var _this = this;\n\n  _classCallCheck(this, Generator);\n\n  _defineProperty(this, \"seed\", 0);\n\n  _defineProperty(this, \"init\", function (seed) {\n    _this.seed = seed;\n    _this.value = lcgRandom(seed);\n  });\n\n  _defineProperty(this, \"value\", lcgRandom(this.seed));\n\n  this.init(_seed);\n};\n\nvar defaultGen = new Generator(Math.random());\n/***\n * [3D] Sphere\n */\n\nvar defaultSphere = {\n  radius: 1,\n  center: [0, 0, 0]\n}; // random on surface of sphere\n// - https://twitter.com/fermatslibrary/status/1430932503578226688\n// - https://mathworld.wolfram.com/SpherePointPicking.html\n\nfunction onSphere(buffer, sphere) {\n  var rng = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGen;\n\n  var _defaultSphere$sphere = _objectSpread2(_objectSpread2({}, defaultSphere), sphere),\n      radius = _defaultSphere$sphere.radius,\n      center = _defaultSphere$sphere.center;\n\n  for (var i = 0; i < buffer.length; i += 3) {\n    var u = rng.value();\n    var v = rng.value();\n    var theta = Math.acos(2 * v - 1);\n    var phi = TAU * u;\n    buffer[i] = Math.sin(theta) * Math.cos(phi) * radius + center[0];\n    buffer[i + 1] = Math.sin(theta) * Math.sin(phi) * radius + center[1];\n    buffer[i + 2] = Math.cos(theta) * radius + center[2];\n  }\n\n  return buffer;\n} // from \"Another Method\" https://datagenetics.com/blog/january32020/index.html\n\n\nfunction inSphere(buffer, sphere) {\n  var rng = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGen;\n\n  var _defaultSphere$sphere2 = _objectSpread2(_objectSpread2({}, defaultSphere), sphere),\n      radius = _defaultSphere$sphere2.radius,\n      center = _defaultSphere$sphere2.center;\n\n  for (var i = 0; i < buffer.length; i += 3) {\n    var u = Math.pow(rng.value(), 1 / 3);\n    var x = rng.value() * 2 - 1;\n    var y = rng.value() * 2 - 1;\n    var z = rng.value() * 2 - 1;\n    var mag = Math.sqrt(x * x + y * y + z * z);\n    x = u * x / mag;\n    y = u * y / mag;\n    z = u * z / mag;\n    buffer[i] = x * radius + center[0];\n    buffer[i + 1] = y * radius + center[1];\n    buffer[i + 2] = z * radius + center[2];\n  }\n\n  return buffer;\n}\n/***\n * [2D] Circle\n */\n\n\nvar defaultCircle = {\n  radius: 1,\n  center: [0, 0]\n}; // random circle https://stackoverflow.com/a/50746409\n\nfunction inCircle(buffer, circle) {\n  var rng = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGen;\n\n  var _defaultCircle$circle = _objectSpread2(_objectSpread2({}, defaultCircle), circle),\n      radius = _defaultCircle$circle.radius,\n      center = _defaultCircle$circle.center;\n\n  for (var i = 0; i < buffer.length; i += 2) {\n    var r = radius * Math.sqrt(rng.value());\n    var theta = rng.value() * TAU;\n    buffer[i] = Math.sin(theta) * r + center[0];\n    buffer[i + 1] = Math.cos(theta) * r + center[1];\n  }\n\n  return buffer;\n}\n\nfunction onCircle(buffer, circle) {\n  var rng = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGen;\n\n  var _defaultCircle$circle2 = _objectSpread2(_objectSpread2({}, defaultCircle), circle),\n      radius = _defaultCircle$circle2.radius,\n      center = _defaultCircle$circle2.center;\n\n  for (var i = 0; i < buffer.length; i += 2) {\n    var theta = rng.value() * TAU;\n    buffer[i] = Math.sin(theta) * radius + center[0];\n    buffer[i + 1] = Math.cos(theta) * radius + center[1];\n  }\n\n  return buffer;\n}\n/**\n * [2D] Plane\n */\n\n\nvar defaultRect = {\n  sides: 1,\n  center: [0, 0]\n};\n\nfunction inRect(buffer, rect) {\n  var rng = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGen;\n\n  var _defaultRect$rect = _objectSpread2(_objectSpread2({}, defaultRect), rect),\n      sides = _defaultRect$rect.sides,\n      center = _defaultRect$rect.center;\n\n  var sideX = typeof sides === \"number\" ? sides : sides[0];\n  var sideY = typeof sides === \"number\" ? sides : sides[1];\n\n  for (var i = 0; i < buffer.length; i += 2) {\n    buffer[i] = (rng.value() - 0.5) * sideX + center[0];\n    buffer[i + 1] = (rng.value() - 0.5) * sideY + center[1];\n  }\n\n  return buffer;\n}\n\nfunction onRect(buffer, rect) {\n  return buffer;\n}\n/***\n * [3D] Box\n */\n\n\nfunction inBox(buffer, box) {\n  var rng = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGen;\n\n  var _defaultBox$box = _objectSpread2(_objectSpread2({}, defaultBox), box),\n      sides = _defaultBox$box.sides,\n      center = _defaultBox$box.center;\n\n  var sideX = typeof sides === \"number\" ? sides : sides[0];\n  var sideY = typeof sides === \"number\" ? sides : sides[1];\n  var sideZ = typeof sides === \"number\" ? sides : sides[2];\n\n  for (var i = 0; i < buffer.length; i += 3) {\n    buffer[i] = (rng.value() - 0.5) * sideX + center[0];\n    buffer[i + 1] = (rng.value() - 0.5) * sideY + center[1];\n    buffer[i + 2] = (rng.value() - 0.5) * sideZ + center[2];\n  }\n\n  return buffer;\n}\n\nvar defaultBox = {\n  sides: 1,\n  center: [0, 0, 0]\n};\n\nfunction onBox(buffer, box) {\n  var rng = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGen;\n\n  var _defaultBox$box2 = _objectSpread2(_objectSpread2({}, defaultBox), box),\n      sides = _defaultBox$box2.sides,\n      center = _defaultBox$box2.center;\n\n  var sideX = typeof sides === \"number\" ? sides : sides[0];\n  var sideY = typeof sides === \"number\" ? sides : sides[1];\n  var sideZ = typeof sides === \"number\" ? sides : sides[2];\n\n  for (var i = 0; i < buffer.length; i += 3) {\n    buffer[i] = (rng.value() - 0.5) * sideX + center[0];\n    buffer[i + 1] = (rng.value() - 0.5) * sideY + center[1];\n    buffer[i + 2] = (rng.value() - 0.5) * sideZ + center[2];\n  }\n\n  return buffer;\n}\n\nvar index = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  Generator: Generator,\n  onSphere: onSphere,\n  inSphere: inSphere,\n  inCircle: inCircle,\n  onCircle: onCircle,\n  inRect: inRect,\n  onRect: onRect,\n  inBox: inBox,\n  onBox: onBox,\n  noise: noise\n});\nexport { Generator as G, inSphere as a, inCircle as b, onCircle as c, inRect as d, onRect as e, inBox as f, onBox as g, index as i, noise as n, onSphere as o };","map":{"version":3,"sources":["/Users/osamakhan/Desktop/Apple-Website-Clone-React-master/node_modules/maath/dist/index-43782085.esm.js"],"names":["a","_defineProperty","_","_objectSpread2","_classCallCheck","l","lerp","f","fade","Grad","x","y","z","_this","grad3","p","perm","Array","gradP","seed","_seed","Math","floor","i","v","F2","sqrt","G2","F3","G3","simplex2","xin","yin","n0","n1","n2","s","j","t","x0","y0","i1","j1","x1","y1","x2","y2","gi0","gi1","gi2","t0","dot2","t1","t2","simplex3","zin","n3","k","z0","k1","i2","j2","k2","z1","z2","x3","y3","z3","gi3","dot3","t3","perlin2","X","Y","n00","n01","n10","n11","u","perlin3","Z","n000","n001","n010","n011","n100","n101","n110","n111","w","noise","Object","freeze","__proto__","TAU","PI","normalizeSeed","abs","string","length","charCodeAt","lcgRandom","state","result","Generator","value","init","defaultGen","random","defaultSphere","radius","center","onSphere","buffer","sphere","rng","arguments","undefined","_defaultSphere$sphere","theta","acos","phi","sin","cos","inSphere","_defaultSphere$sphere2","pow","mag","defaultCircle","inCircle","circle","_defaultCircle$circle","r","onCircle","_defaultCircle$circle2","defaultRect","sides","inRect","rect","_defaultRect$rect","sideX","sideY","onRect","inBox","box","_defaultBox$box","defaultBox","sideZ","onBox","_defaultBox$box2","index","G","b","c","d","e","g","n","o"],"mappings":"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","sourcesContent":["import { a as _defineProperty, _ as _objectSpread2 } from './objectSpread2-284232a6.esm.js';\nimport { _ as _classCallCheck } from './classCallCheck-9098b006.esm.js';\nimport { l as lerp, f as fade } from './misc-7d870b3c.esm.js';\n\n/*\n * A speed-improved perlin and simplex noise algorithms for 2D.\n *\n * Based on example code by Stefan Gustavson (stegu@itn.liu.se).\n * Optimisations by Peter Eastman (peastman@drizzle.stanford.edu).\n * Better rank ordering method by Stefan Gustavson in 2012.\n * Converted to Javascript by Joseph Gentle.\n *\n * Version 2012-03-09\n *\n * This code was placed in the public domain by its original author,\n * Stefan Gustavson. You may use it as you see fit, but\n * attribution is appreciated.\n *\n */\n\nvar Grad = function Grad(x, y, z) {\n  var _this = this;\n\n  _classCallCheck(this, Grad);\n\n  _defineProperty(this, \"dot2\", function (x, y) {\n    return _this.x * x + _this.y * y;\n  });\n\n  _defineProperty(this, \"dot3\", function (x, y, z) {\n    return _this.x * x + _this.y * y + _this.z * z;\n  });\n\n  this.x = x;\n  this.y = y;\n  this.z = z;\n};\n\nvar grad3 = [new Grad(1, 1, 0), new Grad(-1, 1, 0), new Grad(1, -1, 0), new Grad(-1, -1, 0), new Grad(1, 0, 1), new Grad(-1, 0, 1), new Grad(1, 0, -1), new Grad(-1, 0, -1), new Grad(0, 1, 1), new Grad(0, -1, 1), new Grad(0, 1, -1), new Grad(0, -1, -1)];\nvar p = [151, 160, 137, 91, 90, 15, 131, 13, 201, 95, 96, 53, 194, 233, 7, 225, 140, 36, 103, 30, 69, 142, 8, 99, 37, 240, 21, 10, 23, 190, 6, 148, 247, 120, 234, 75, 0, 26, 197, 62, 94, 252, 219, 203, 117, 35, 11, 32, 57, 177, 33, 88, 237, 149, 56, 87, 174, 20, 125, 136, 171, 168, 68, 175, 74, 165, 71, 134, 139, 48, 27, 166, 77, 146, 158, 231, 83, 111, 229, 122, 60, 211, 133, 230, 220, 105, 92, 41, 55, 46, 245, 40, 244, 102, 143, 54, 65, 25, 63, 161, 1, 216, 80, 73, 209, 76, 132, 187, 208, 89, 18, 169, 200, 196, 135, 130, 116, 188, 159, 86, 164, 100, 109, 198, 173, 186, 3, 64, 52, 217, 226, 250, 124, 123, 5, 202, 38, 147, 118, 126, 255, 82, 85, 212, 207, 206, 59, 227, 47, 16, 58, 17, 182, 189, 28, 42, 223, 183, 170, 213, 119, 248, 152, 2, 44, 154, 163, 70, 221, 153, 101, 155, 167, 43, 172, 9, 129, 22, 39, 253, 19, 98, 108, 110, 79, 113, 224, 232, 178, 185, 112, 104, 218, 246, 97, 228, 251, 34, 242, 193, 238, 210, 144, 12, 191, 179, 162, 241, 81, 51, 145, 235, 249, 14, 239, 107, 49, 192, 214, 31, 181, 199, 106, 157, 184, 84, 204, 176, 115, 121, 50, 45, 127, 4, 150, 254, 138, 236, 205, 93, 222, 114, 67, 29, 24, 72, 243, 141, 128, 195, 78, 66, 215, 61, 156, 180]; // To remove the need for index wrapping, double the permutation table length\n\nvar perm = new Array(512);\nvar gradP = new Array(512); // This isn't a very good seeding function, but it works ok. It supports 2^16\n// different seed values. Write something better if you need more seeds.\n\nvar seed = function seed(_seed) {\n  if (_seed > 0 && _seed < 1) {\n    // Scale the seed out\n    _seed *= 65536;\n  }\n\n  _seed = Math.floor(_seed);\n\n  if (_seed < 256) {\n    _seed |= _seed << 8;\n  }\n\n  for (var i = 0; i < 256; i++) {\n    var v;\n\n    if (i & 1) {\n      v = p[i] ^ _seed & 255;\n    } else {\n      v = p[i] ^ _seed >> 8 & 255;\n    }\n\n    perm[i] = perm[i + 256] = v;\n    gradP[i] = gradP[i + 256] = grad3[v % 12];\n  }\n};\nseed(0);\n/*\n  for(var i=0; i<256; i++) {\n    perm[i] = perm[i + 256] = p[i];\n    gradP[i] = gradP[i + 256] = grad3[perm[i] % 12];\n  }*/\n// Skewing and unskewing factors for 2, 3, and 4 dimensions\n\nvar F2 = 0.5 * (Math.sqrt(3) - 1);\nvar G2 = (3 - Math.sqrt(3)) / 6;\nvar F3 = 1 / 3;\nvar G3 = 1 / 6; // 2D simplex noise\n\nvar simplex2 = function simplex2(xin, yin) {\n  var n0, n1, n2; // Noise contributions from the three corners\n  // Skew the input space to determine which simplex cell we're in\n\n  var s = (xin + yin) * F2; // Hairy factor for 2D\n\n  var i = Math.floor(xin + s);\n  var j = Math.floor(yin + s);\n  var t = (i + j) * G2;\n  var x0 = xin - i + t; // The x,y distances from the cell origin, unskewed.\n\n  var y0 = yin - j + t; // For the 2D case, the simplex shape is an equilateral triangle.\n  // Determine which simplex we are in.\n\n  var i1, j1; // Offsets for second (middle) corner of simplex in (i,j) coords\n\n  if (x0 > y0) {\n    // lower triangle, XY order: (0,0)->(1,0)->(1,1)\n    i1 = 1;\n    j1 = 0;\n  } else {\n    // upper triangle, YX order: (0,0)->(0,1)->(1,1)\n    i1 = 0;\n    j1 = 1;\n  } // A step of (1,0) in (i,j) means a step of (1-c,-c) in (x,y), and\n  // a step of (0,1) in (i,j) means a step of (-c,1-c) in (x,y), where\n  // c = (3-sqrt(3))/6\n\n\n  var x1 = x0 - i1 + G2; // Offsets for middle corner in (x,y) unskewed coords\n\n  var y1 = y0 - j1 + G2;\n  var x2 = x0 - 1 + 2 * G2; // Offsets for last corner in (x,y) unskewed coords\n\n  var y2 = y0 - 1 + 2 * G2; // Work out the hashed gradient indices of the three simplex corners\n\n  i &= 255;\n  j &= 255;\n  var gi0 = gradP[i + perm[j]];\n  var gi1 = gradP[i + i1 + perm[j + j1]];\n  var gi2 = gradP[i + 1 + perm[j + 1]]; // Calculate the contribution from the three corners\n\n  var t0 = 0.5 - x0 * x0 - y0 * y0;\n\n  if (t0 < 0) {\n    n0 = 0;\n  } else {\n    t0 *= t0;\n    n0 = t0 * t0 * gi0.dot2(x0, y0); // (x,y) of grad3 used for 2D gradient\n  }\n\n  var t1 = 0.5 - x1 * x1 - y1 * y1;\n\n  if (t1 < 0) {\n    n1 = 0;\n  } else {\n    t1 *= t1;\n    n1 = t1 * t1 * gi1.dot2(x1, y1);\n  }\n\n  var t2 = 0.5 - x2 * x2 - y2 * y2;\n\n  if (t2 < 0) {\n    n2 = 0;\n  } else {\n    t2 *= t2;\n    n2 = t2 * t2 * gi2.dot2(x2, y2);\n  } // Add contributions from each corner to get the final noise value.\n  // The result is scaled to return values in the interval [-1,1].\n\n\n  return 70 * (n0 + n1 + n2);\n}; // 3D simplex noise\n\nvar simplex3 = function simplex3(xin, yin, zin) {\n  var n0, n1, n2, n3; // Noise contributions from the four corners\n  // Skew the input space to determine which simplex cell we're in\n\n  var s = (xin + yin + zin) * F3; // Hairy factor for 2D\n\n  var i = Math.floor(xin + s);\n  var j = Math.floor(yin + s);\n  var k = Math.floor(zin + s);\n  var t = (i + j + k) * G3;\n  var x0 = xin - i + t; // The x,y distances from the cell origin, unskewed.\n\n  var y0 = yin - j + t;\n  var z0 = zin - k + t; // For the 3D case, the simplex shape is a slightly irregular tetrahedron.\n  // Determine which simplex we are in.\n\n  var i1, j1, k1; // Offsets for second corner of simplex in (i,j,k) coords\n\n  var i2, j2, k2; // Offsets for third corner of simplex in (i,j,k) coords\n\n  if (x0 >= y0) {\n    if (y0 >= z0) {\n      i1 = 1;\n      j1 = 0;\n      k1 = 0;\n      i2 = 1;\n      j2 = 1;\n      k2 = 0;\n    } else if (x0 >= z0) {\n      i1 = 1;\n      j1 = 0;\n      k1 = 0;\n      i2 = 1;\n      j2 = 0;\n      k2 = 1;\n    } else {\n      i1 = 0;\n      j1 = 0;\n      k1 = 1;\n      i2 = 1;\n      j2 = 0;\n      k2 = 1;\n    }\n  } else {\n    if (y0 < z0) {\n      i1 = 0;\n      j1 = 0;\n      k1 = 1;\n      i2 = 0;\n      j2 = 1;\n      k2 = 1;\n    } else if (x0 < z0) {\n      i1 = 0;\n      j1 = 1;\n      k1 = 0;\n      i2 = 0;\n      j2 = 1;\n      k2 = 1;\n    } else {\n      i1 = 0;\n      j1 = 1;\n      k1 = 0;\n      i2 = 1;\n      j2 = 1;\n      k2 = 0;\n    }\n  } // A step of (1,0,0) in (i,j,k) means a step of (1-c,-c,-c) in (x,y,z),\n  // a step of (0,1,0) in (i,j,k) means a step of (-c,1-c,-c) in (x,y,z), and\n  // a step of (0,0,1) in (i,j,k) means a step of (-c,-c,1-c) in (x,y,z), where\n  // c = 1/6.\n\n\n  var x1 = x0 - i1 + G3; // Offsets for second corner\n\n  var y1 = y0 - j1 + G3;\n  var z1 = z0 - k1 + G3;\n  var x2 = x0 - i2 + 2 * G3; // Offsets for third corner\n\n  var y2 = y0 - j2 + 2 * G3;\n  var z2 = z0 - k2 + 2 * G3;\n  var x3 = x0 - 1 + 3 * G3; // Offsets for fourth corner\n\n  var y3 = y0 - 1 + 3 * G3;\n  var z3 = z0 - 1 + 3 * G3; // Work out the hashed gradient indices of the four simplex corners\n\n  i &= 255;\n  j &= 255;\n  k &= 255;\n  var gi0 = gradP[i + perm[j + perm[k]]];\n  var gi1 = gradP[i + i1 + perm[j + j1 + perm[k + k1]]];\n  var gi2 = gradP[i + i2 + perm[j + j2 + perm[k + k2]]];\n  var gi3 = gradP[i + 1 + perm[j + 1 + perm[k + 1]]]; // Calculate the contribution from the four corners\n\n  var t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0;\n\n  if (t0 < 0) {\n    n0 = 0;\n  } else {\n    t0 *= t0;\n    n0 = t0 * t0 * gi0.dot3(x0, y0, z0); // (x,y) of grad3 used for 2D gradient\n  }\n\n  var t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1;\n\n  if (t1 < 0) {\n    n1 = 0;\n  } else {\n    t1 *= t1;\n    n1 = t1 * t1 * gi1.dot3(x1, y1, z1);\n  }\n\n  var t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2;\n\n  if (t2 < 0) {\n    n2 = 0;\n  } else {\n    t2 *= t2;\n    n2 = t2 * t2 * gi2.dot3(x2, y2, z2);\n  }\n\n  var t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3;\n\n  if (t3 < 0) {\n    n3 = 0;\n  } else {\n    t3 *= t3;\n    n3 = t3 * t3 * gi3.dot3(x3, y3, z3);\n  } // Add contributions from each corner to get the final noise value.\n  // The result is scaled to return values in the interval [-1,1].\n\n\n  return 32 * (n0 + n1 + n2 + n3);\n}; // ##### Perlin noise stuff\n// 2D Perlin Noise\n\nvar perlin2 = function perlin2(x, y) {\n  // Find unit grid cell containing point\n  var X = Math.floor(x),\n      Y = Math.floor(y); // Get relative xy coordinates of point within that cell\n\n  x = x - X;\n  y = y - Y; // Wrap the integer cells at 255 (smaller integer period can be introduced here)\n\n  X = X & 255;\n  Y = Y & 255; // Calculate noise contributions from each of the four corners\n\n  var n00 = gradP[X + perm[Y]].dot2(x, y);\n  var n01 = gradP[X + perm[Y + 1]].dot2(x, y - 1);\n  var n10 = gradP[X + 1 + perm[Y]].dot2(x - 1, y);\n  var n11 = gradP[X + 1 + perm[Y + 1]].dot2(x - 1, y - 1); // Compute the fade curve value for x\n\n  var u = fade(x); // Interpolate the four results\n\n  return lerp(lerp(n00, n10, u), lerp(n01, n11, u), fade(y));\n}; // 3D Perlin Noise\n\nvar perlin3 = function perlin3(x, y, z) {\n  // Find unit grid cell containing point\n  var X = Math.floor(x),\n      Y = Math.floor(y),\n      Z = Math.floor(z); // Get relative xyz coordinates of point within that cell\n\n  x = x - X;\n  y = y - Y;\n  z = z - Z; // Wrap the integer cells at 255 (smaller integer period can be introduced here)\n\n  X = X & 255;\n  Y = Y & 255;\n  Z = Z & 255; // Calculate noise contributions from each of the eight corners\n\n  var n000 = gradP[X + perm[Y + perm[Z]]].dot3(x, y, z);\n  var n001 = gradP[X + perm[Y + perm[Z + 1]]].dot3(x, y, z - 1);\n  var n010 = gradP[X + perm[Y + 1 + perm[Z]]].dot3(x, y - 1, z);\n  var n011 = gradP[X + perm[Y + 1 + perm[Z + 1]]].dot3(x, y - 1, z - 1);\n  var n100 = gradP[X + 1 + perm[Y + perm[Z]]].dot3(x - 1, y, z);\n  var n101 = gradP[X + 1 + perm[Y + perm[Z + 1]]].dot3(x - 1, y, z - 1);\n  var n110 = gradP[X + 1 + perm[Y + 1 + perm[Z]]].dot3(x - 1, y - 1, z);\n  var n111 = gradP[X + 1 + perm[Y + 1 + perm[Z + 1]]].dot3(x - 1, y - 1, z - 1); // Compute the fade curve value for x, y, z\n\n  var u = fade(x);\n  var v = fade(y);\n  var w = fade(z); // Interpolate\n\n  return lerp(lerp(lerp(n000, n100, u), lerp(n001, n101, u), w), lerp(lerp(n010, n110, u), lerp(n011, n111, u), w), v);\n};\n\nvar noise = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  seed: seed,\n  simplex2: simplex2,\n  simplex3: simplex3,\n  perlin2: perlin2,\n  perlin3: perlin3\n});\n\nvar TAU = Math.PI * 2; // Credits @kchapelier https://github.com/kchapelier/wavefunctioncollapse/blob/master/example/lcg.js#L22-L30\n\nfunction normalizeSeed(seed) {\n  if (typeof seed === \"number\") {\n    seed = Math.abs(seed);\n  } else if (typeof seed === \"string\") {\n    var string = seed;\n    seed = 0;\n\n    for (var i = 0; i < string.length; i++) {\n      seed = (seed + (i + 1) * (string.charCodeAt(i) % 96)) % 2147483647;\n    }\n  }\n\n  if (seed === 0) {\n    seed = 311;\n  }\n\n  return seed;\n}\n\nfunction lcgRandom(seed) {\n  var state = normalizeSeed(seed);\n  return function () {\n    var result = state * 48271 % 2147483647;\n    state = result;\n    return result / 2147483647;\n  };\n}\n\nvar Generator = function Generator(_seed) {\n  var _this = this;\n\n  _classCallCheck(this, Generator);\n\n  _defineProperty(this, \"seed\", 0);\n\n  _defineProperty(this, \"init\", function (seed) {\n    _this.seed = seed;\n    _this.value = lcgRandom(seed);\n  });\n\n  _defineProperty(this, \"value\", lcgRandom(this.seed));\n\n  this.init(_seed);\n};\nvar defaultGen = new Generator(Math.random());\n/***\n * [3D] Sphere\n */\n\nvar defaultSphere = {\n  radius: 1,\n  center: [0, 0, 0]\n}; // random on surface of sphere\n// - https://twitter.com/fermatslibrary/status/1430932503578226688\n// - https://mathworld.wolfram.com/SpherePointPicking.html\n\nfunction onSphere(buffer, sphere) {\n  var rng = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGen;\n\n  var _defaultSphere$sphere = _objectSpread2(_objectSpread2({}, defaultSphere), sphere),\n      radius = _defaultSphere$sphere.radius,\n      center = _defaultSphere$sphere.center;\n\n  for (var i = 0; i < buffer.length; i += 3) {\n    var u = rng.value();\n    var v = rng.value();\n    var theta = Math.acos(2 * v - 1);\n    var phi = TAU * u;\n    buffer[i] = Math.sin(theta) * Math.cos(phi) * radius + center[0];\n    buffer[i + 1] = Math.sin(theta) * Math.sin(phi) * radius + center[1];\n    buffer[i + 2] = Math.cos(theta) * radius + center[2];\n  }\n\n  return buffer;\n} // from \"Another Method\" https://datagenetics.com/blog/january32020/index.html\n\nfunction inSphere(buffer, sphere) {\n  var rng = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGen;\n\n  var _defaultSphere$sphere2 = _objectSpread2(_objectSpread2({}, defaultSphere), sphere),\n      radius = _defaultSphere$sphere2.radius,\n      center = _defaultSphere$sphere2.center;\n\n  for (var i = 0; i < buffer.length; i += 3) {\n    var u = Math.pow(rng.value(), 1 / 3);\n    var x = rng.value() * 2 - 1;\n    var y = rng.value() * 2 - 1;\n    var z = rng.value() * 2 - 1;\n    var mag = Math.sqrt(x * x + y * y + z * z);\n    x = u * x / mag;\n    y = u * y / mag;\n    z = u * z / mag;\n    buffer[i] = x * radius + center[0];\n    buffer[i + 1] = y * radius + center[1];\n    buffer[i + 2] = z * radius + center[2];\n  }\n\n  return buffer;\n}\n/***\n * [2D] Circle\n */\n\nvar defaultCircle = {\n  radius: 1,\n  center: [0, 0]\n}; // random circle https://stackoverflow.com/a/50746409\n\nfunction inCircle(buffer, circle) {\n  var rng = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGen;\n\n  var _defaultCircle$circle = _objectSpread2(_objectSpread2({}, defaultCircle), circle),\n      radius = _defaultCircle$circle.radius,\n      center = _defaultCircle$circle.center;\n\n  for (var i = 0; i < buffer.length; i += 2) {\n    var r = radius * Math.sqrt(rng.value());\n    var theta = rng.value() * TAU;\n    buffer[i] = Math.sin(theta) * r + center[0];\n    buffer[i + 1] = Math.cos(theta) * r + center[1];\n  }\n\n  return buffer;\n}\nfunction onCircle(buffer, circle) {\n  var rng = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGen;\n\n  var _defaultCircle$circle2 = _objectSpread2(_objectSpread2({}, defaultCircle), circle),\n      radius = _defaultCircle$circle2.radius,\n      center = _defaultCircle$circle2.center;\n\n  for (var i = 0; i < buffer.length; i += 2) {\n    var theta = rng.value() * TAU;\n    buffer[i] = Math.sin(theta) * radius + center[0];\n    buffer[i + 1] = Math.cos(theta) * radius + center[1];\n  }\n\n  return buffer;\n}\n/**\n * [2D] Plane\n */\n\nvar defaultRect = {\n  sides: 1,\n  center: [0, 0]\n};\nfunction inRect(buffer, rect) {\n  var rng = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGen;\n\n  var _defaultRect$rect = _objectSpread2(_objectSpread2({}, defaultRect), rect),\n      sides = _defaultRect$rect.sides,\n      center = _defaultRect$rect.center;\n\n  var sideX = typeof sides === \"number\" ? sides : sides[0];\n  var sideY = typeof sides === \"number\" ? sides : sides[1];\n\n  for (var i = 0; i < buffer.length; i += 2) {\n    buffer[i] = (rng.value() - 0.5) * sideX + center[0];\n    buffer[i + 1] = (rng.value() - 0.5) * sideY + center[1];\n  }\n\n  return buffer;\n}\nfunction onRect(buffer, rect) {\n  return buffer;\n}\n/***\n * [3D] Box\n */\n\nfunction inBox(buffer, box) {\n  var rng = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGen;\n\n  var _defaultBox$box = _objectSpread2(_objectSpread2({}, defaultBox), box),\n      sides = _defaultBox$box.sides,\n      center = _defaultBox$box.center;\n\n  var sideX = typeof sides === \"number\" ? sides : sides[0];\n  var sideY = typeof sides === \"number\" ? sides : sides[1];\n  var sideZ = typeof sides === \"number\" ? sides : sides[2];\n\n  for (var i = 0; i < buffer.length; i += 3) {\n    buffer[i] = (rng.value() - 0.5) * sideX + center[0];\n    buffer[i + 1] = (rng.value() - 0.5) * sideY + center[1];\n    buffer[i + 2] = (rng.value() - 0.5) * sideZ + center[2];\n  }\n\n  return buffer;\n}\nvar defaultBox = {\n  sides: 1,\n  center: [0, 0, 0]\n};\nfunction onBox(buffer, box) {\n  var rng = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultGen;\n\n  var _defaultBox$box2 = _objectSpread2(_objectSpread2({}, defaultBox), box),\n      sides = _defaultBox$box2.sides,\n      center = _defaultBox$box2.center;\n\n  var sideX = typeof sides === \"number\" ? sides : sides[0];\n  var sideY = typeof sides === \"number\" ? sides : sides[1];\n  var sideZ = typeof sides === \"number\" ? sides : sides[2];\n\n  for (var i = 0; i < buffer.length; i += 3) {\n    buffer[i] = (rng.value() - 0.5) * sideX + center[0];\n    buffer[i + 1] = (rng.value() - 0.5) * sideY + center[1];\n    buffer[i + 2] = (rng.value() - 0.5) * sideZ + center[2];\n  }\n\n  return buffer;\n}\n\nvar index = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  Generator: Generator,\n  onSphere: onSphere,\n  inSphere: inSphere,\n  inCircle: inCircle,\n  onCircle: onCircle,\n  inRect: inRect,\n  onRect: onRect,\n  inBox: inBox,\n  onBox: onBox,\n  noise: noise\n});\n\nexport { Generator as G, inSphere as a, inCircle as b, onCircle as c, inRect as d, onRect as e, inBox as f, onBox as g, index as i, noise as n, onSphere as o };\n"]},"metadata":{},"sourceType":"module"}