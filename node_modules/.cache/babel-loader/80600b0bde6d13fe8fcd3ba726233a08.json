{"ast":null,"code":"import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { MathUtils } from 'three';\nimport { useThree } from '@react-three/fiber';\nimport { useSpring, a } from '@react-spring/three';\nimport { useGesture } from '@use-gesture/react';\n\nfunction PresentationControls({\n  enabled = true,\n  snap,\n  global,\n  cursor = true,\n  children,\n  speed = 1,\n  rotation = [0, 0, 0],\n  zoom = 1,\n  polar = [0, Math.PI / 2],\n  azimuth = [-Infinity, Infinity],\n  config = {\n    mass: 1,\n    tension: 170,\n    friction: 26\n  }\n}) {\n  const {\n    size,\n    gl\n  } = useThree();\n  const rPolar = React.useMemo(() => [rotation[0] + polar[0], rotation[0] + polar[1]], [rotation[0], polar[0], polar[1]]);\n  const rAzimuth = React.useMemo(() => [rotation[1] + azimuth[0], rotation[1] + azimuth[1]], [rotation[1], azimuth[0], azimuth[1]]);\n  const rInitial = React.useMemo(() => [MathUtils.clamp(rotation[0], ...rPolar), MathUtils.clamp(rotation[1], ...rAzimuth), rotation[2]], [rotation[0], rotation[1], rotation[2], rPolar, rAzimuth]);\n  const [spring, api] = useSpring(() => ({\n    scale: 1,\n    rotation: rInitial,\n    config\n  }));\n  React.useEffect(() => void api.start({\n    scale: 1,\n    rotation: rInitial,\n    config\n  }), [rInitial]);\n  React.useEffect(() => {\n    if (global && cursor && enabled) gl.domElement.style.cursor = 'grab';\n    return () => void (gl.domElement.style.cursor = 'default');\n  }, [global, cursor, gl.domElement, enabled]);\n  const bind = useGesture({\n    onHover: ({\n      last\n    }) => {\n      if (cursor && !global && enabled) gl.domElement.style.cursor = last ? 'auto' : 'grab';\n    },\n    onDrag: ({\n      down,\n      delta: [x, y],\n      memo: [oldY, oldX] = spring.rotation.animation.to || rInitial\n    }) => {\n      if (!enabled) return [y, x];\n      if (cursor) gl.domElement.style.cursor = down ? 'grabbing' : 'grab';\n      x = MathUtils.clamp(oldX + x / size.width * Math.PI * speed, ...rAzimuth);\n      y = MathUtils.clamp(oldY + y / size.height * Math.PI * speed, ...rPolar);\n      const sConfig = snap && !down && typeof snap !== 'boolean' ? snap : config;\n      api.start({\n        scale: down && y > rPolar[1] / 2 ? zoom : 1,\n        rotation: snap && !down ? rInitial : [y, x, 0],\n        config: n => n === 'scale' ? { ...sConfig,\n          friction: sConfig.friction * 3\n        } : sConfig\n      });\n      return [y, x];\n    }\n  }, {\n    target: global ? gl.domElement : undefined\n  });\n  return /*#__PURE__*/React.createElement(a.group, _extends({}, bind == null ? void 0 : bind(), spring), children);\n}\n\nexport { PresentationControls };","map":{"version":3,"sources":["/Users/osamakhan/Desktop/dev/Apple-Animated-React-Clone/node_modules/@react-three/drei/web/PresentationControls.js"],"names":["_extends","React","MathUtils","useThree","useSpring","a","useGesture","PresentationControls","enabled","snap","global","cursor","children","speed","rotation","zoom","polar","Math","PI","azimuth","Infinity","config","mass","tension","friction","size","gl","rPolar","useMemo","rAzimuth","rInitial","clamp","spring","api","scale","useEffect","start","domElement","style","bind","onHover","last","onDrag","down","delta","x","y","memo","oldY","oldX","animation","to","width","height","sConfig","n","target","undefined","createElement","group"],"mappings":"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","sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { MathUtils } from 'three';\nimport { useThree } from '@react-three/fiber';\nimport { useSpring, a } from '@react-spring/three';\nimport { useGesture } from '@use-gesture/react';\n\nfunction PresentationControls({\n  enabled = true,\n  snap,\n  global,\n  cursor = true,\n  children,\n  speed = 1,\n  rotation = [0, 0, 0],\n  zoom = 1,\n  polar = [0, Math.PI / 2],\n  azimuth = [-Infinity, Infinity],\n  config = {\n    mass: 1,\n    tension: 170,\n    friction: 26\n  }\n}) {\n  const {\n    size,\n    gl\n  } = useThree();\n  const rPolar = React.useMemo(() => [rotation[0] + polar[0], rotation[0] + polar[1]], [rotation[0], polar[0], polar[1]]);\n  const rAzimuth = React.useMemo(() => [rotation[1] + azimuth[0], rotation[1] + azimuth[1]], [rotation[1], azimuth[0], azimuth[1]]);\n  const rInitial = React.useMemo(() => [MathUtils.clamp(rotation[0], ...rPolar), MathUtils.clamp(rotation[1], ...rAzimuth), rotation[2]], [rotation[0], rotation[1], rotation[2], rPolar, rAzimuth]);\n  const [spring, api] = useSpring(() => ({\n    scale: 1,\n    rotation: rInitial,\n    config\n  }));\n  React.useEffect(() => void api.start({\n    scale: 1,\n    rotation: rInitial,\n    config\n  }), [rInitial]);\n  React.useEffect(() => {\n    if (global && cursor && enabled) gl.domElement.style.cursor = 'grab';\n    return () => void (gl.domElement.style.cursor = 'default');\n  }, [global, cursor, gl.domElement, enabled]);\n  const bind = useGesture({\n    onHover: ({\n      last\n    }) => {\n      if (cursor && !global && enabled) gl.domElement.style.cursor = last ? 'auto' : 'grab';\n    },\n    onDrag: ({\n      down,\n      delta: [x, y],\n      memo: [oldY, oldX] = spring.rotation.animation.to || rInitial\n    }) => {\n      if (!enabled) return [y, x];\n      if (cursor) gl.domElement.style.cursor = down ? 'grabbing' : 'grab';\n      x = MathUtils.clamp(oldX + x / size.width * Math.PI * speed, ...rAzimuth);\n      y = MathUtils.clamp(oldY + y / size.height * Math.PI * speed, ...rPolar);\n      const sConfig = snap && !down && typeof snap !== 'boolean' ? snap : config;\n      api.start({\n        scale: down && y > rPolar[1] / 2 ? zoom : 1,\n        rotation: snap && !down ? rInitial : [y, x, 0],\n        config: n => n === 'scale' ? { ...sConfig,\n          friction: sConfig.friction * 3\n        } : sConfig\n      });\n      return [y, x];\n    }\n  }, {\n    target: global ? gl.domElement : undefined\n  });\n  return /*#__PURE__*/React.createElement(a.group, _extends({}, bind == null ? void 0 : bind(), spring), children);\n}\n\nexport { PresentationControls };\n"]},"metadata":{},"sourceType":"module"}