{"ast":null,"code":"import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { Pass, FullScreenQuad } from './Pass.js';\nimport { UniformsUtils, ShaderMaterial } from 'three';\nimport { HalftoneShader } from '../shaders/HalftoneShader.js';\n/**\n * RGB Halftone pass for three.js effects composer. Requires HalftoneShader.\n */\n\nclass HalftonePass extends Pass {\n  constructor(width, height, params) {\n    super();\n\n    _defineProperty(this, \"material\", void 0);\n\n    _defineProperty(this, \"fsQuad\", void 0);\n\n    _defineProperty(this, \"uniforms\", void 0);\n\n    if (HalftoneShader === undefined) {\n      console.error('THREE.HalftonePass requires HalftoneShader');\n    }\n\n    this.uniforms = UniformsUtils.clone(HalftoneShader.uniforms);\n    this.material = new ShaderMaterial({\n      uniforms: this.uniforms,\n      fragmentShader: HalftoneShader.fragmentShader,\n      vertexShader: HalftoneShader.vertexShader\n    }); // set params\n\n    this.uniforms.width.value = width;\n    this.uniforms.height.value = height;\n\n    for (const key in params) {\n      if (params.hasOwnProperty(key) && this.uniforms.hasOwnProperty(key)) {\n        this.uniforms[key].value = params[key];\n      }\n    }\n\n    this.fsQuad = new FullScreenQuad(this.material);\n  }\n\n  render(renderer, writeBuffer, readBuffer\n  /*, deltaTime, maskActive */\n  ) {\n    this.material.uniforms['tDiffuse'].value = readBuffer.texture;\n\n    if (this.renderToScreen) {\n      renderer.setRenderTarget(null);\n      this.fsQuad.render(renderer);\n    } else {\n      renderer.setRenderTarget(writeBuffer);\n      if (this.clear) renderer.clear();\n      this.fsQuad.render(renderer);\n    }\n  }\n\n  setSize(width, height) {\n    this.uniforms.width.value = width;\n    this.uniforms.height.value = height;\n  }\n\n}\n\nexport { HalftonePass };","map":{"version":3,"sources":["/Users/osamakhan/Desktop/dev/Apple-Animated-React-Clone/node_modules/three-stdlib/postprocessing/HalftonePass.js"],"names":["_defineProperty","Pass","FullScreenQuad","UniformsUtils","ShaderMaterial","HalftoneShader","HalftonePass","constructor","width","height","params","undefined","console","error","uniforms","clone","material","fragmentShader","vertexShader","value","key","hasOwnProperty","fsQuad","render","renderer","writeBuffer","readBuffer","texture","renderToScreen","setRenderTarget","clear","setSize"],"mappings":"AAAA,OAAOA,eAAP,MAA4B,2CAA5B;AACA,SAASC,IAAT,EAAeC,cAAf,QAAqC,WAArC;AACA,SAASC,aAAT,EAAwBC,cAAxB,QAA8C,OAA9C;AACA,SAASC,cAAT,QAA+B,8BAA/B;AAEA;AACA;AACA;;AACA,MAAMC,YAAN,SAA2BL,IAA3B,CAAgC;AAC9BM,EAAAA,WAAW,CAACC,KAAD,EAAQC,MAAR,EAAgBC,MAAhB,EAAwB;AACjC;;AAEAV,IAAAA,eAAe,CAAC,IAAD,EAAO,UAAP,EAAmB,KAAK,CAAxB,CAAf;;AAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,QAAP,EAAiB,KAAK,CAAtB,CAAf;;AAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,UAAP,EAAmB,KAAK,CAAxB,CAAf;;AAEA,QAAIK,cAAc,KAAKM,SAAvB,EAAkC;AAChCC,MAAAA,OAAO,CAACC,KAAR,CAAc,4CAAd;AACD;;AAED,SAAKC,QAAL,GAAgBX,aAAa,CAACY,KAAd,CAAoBV,cAAc,CAACS,QAAnC,CAAhB;AACA,SAAKE,QAAL,GAAgB,IAAIZ,cAAJ,CAAmB;AACjCU,MAAAA,QAAQ,EAAE,KAAKA,QADkB;AAEjCG,MAAAA,cAAc,EAAEZ,cAAc,CAACY,cAFE;AAGjCC,MAAAA,YAAY,EAAEb,cAAc,CAACa;AAHI,KAAnB,CAAhB,CAdiC,CAkB7B;;AAEJ,SAAKJ,QAAL,CAAcN,KAAd,CAAoBW,KAApB,GAA4BX,KAA5B;AACA,SAAKM,QAAL,CAAcL,MAAd,CAAqBU,KAArB,GAA6BV,MAA7B;;AAEA,SAAK,MAAMW,GAAX,IAAkBV,MAAlB,EAA0B;AACxB,UAAIA,MAAM,CAACW,cAAP,CAAsBD,GAAtB,KAA8B,KAAKN,QAAL,CAAcO,cAAd,CAA6BD,GAA7B,CAAlC,EAAqE;AACnE,aAAKN,QAAL,CAAcM,GAAd,EAAmBD,KAAnB,GAA2BT,MAAM,CAACU,GAAD,CAAjC;AACD;AACF;;AAED,SAAKE,MAAL,GAAc,IAAIpB,cAAJ,CAAmB,KAAKc,QAAxB,CAAd;AACD;;AAEDO,EAAAA,MAAM,CAACC,QAAD,EAAWC,WAAX,EAAwBC;AAC9B;AADM,IAEJ;AACA,SAAKV,QAAL,CAAcF,QAAd,CAAuB,UAAvB,EAAmCK,KAAnC,GAA2CO,UAAU,CAACC,OAAtD;;AAEA,QAAI,KAAKC,cAAT,EAAyB;AACvBJ,MAAAA,QAAQ,CAACK,eAAT,CAAyB,IAAzB;AACA,WAAKP,MAAL,CAAYC,MAAZ,CAAmBC,QAAnB;AACD,KAHD,MAGO;AACLA,MAAAA,QAAQ,CAACK,eAAT,CAAyBJ,WAAzB;AACA,UAAI,KAAKK,KAAT,EAAgBN,QAAQ,CAACM,KAAT;AAChB,WAAKR,MAAL,CAAYC,MAAZ,CAAmBC,QAAnB;AACD;AACF;;AAEDO,EAAAA,OAAO,CAACvB,KAAD,EAAQC,MAAR,EAAgB;AACrB,SAAKK,QAAL,CAAcN,KAAd,CAAoBW,KAApB,GAA4BX,KAA5B;AACA,SAAKM,QAAL,CAAcL,MAAd,CAAqBU,KAArB,GAA6BV,MAA7B;AACD;;AAnD6B;;AAuDhC,SAASH,YAAT","sourcesContent":["import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { Pass, FullScreenQuad } from './Pass.js';\nimport { UniformsUtils, ShaderMaterial } from 'three';\nimport { HalftoneShader } from '../shaders/HalftoneShader.js';\n\n/**\n * RGB Halftone pass for three.js effects composer. Requires HalftoneShader.\n */\nclass HalftonePass extends Pass {\n  constructor(width, height, params) {\n    super();\n\n    _defineProperty(this, \"material\", void 0);\n\n    _defineProperty(this, \"fsQuad\", void 0);\n\n    _defineProperty(this, \"uniforms\", void 0);\n\n    if (HalftoneShader === undefined) {\n      console.error('THREE.HalftonePass requires HalftoneShader');\n    }\n\n    this.uniforms = UniformsUtils.clone(HalftoneShader.uniforms);\n    this.material = new ShaderMaterial({\n      uniforms: this.uniforms,\n      fragmentShader: HalftoneShader.fragmentShader,\n      vertexShader: HalftoneShader.vertexShader\n    }); // set params\n\n    this.uniforms.width.value = width;\n    this.uniforms.height.value = height;\n\n    for (const key in params) {\n      if (params.hasOwnProperty(key) && this.uniforms.hasOwnProperty(key)) {\n        this.uniforms[key].value = params[key];\n      }\n    }\n\n    this.fsQuad = new FullScreenQuad(this.material);\n  }\n\n  render(renderer, writeBuffer, readBuffer\n  /*, deltaTime, maskActive */\n  ) {\n    this.material.uniforms['tDiffuse'].value = readBuffer.texture;\n\n    if (this.renderToScreen) {\n      renderer.setRenderTarget(null);\n      this.fsQuad.render(renderer);\n    } else {\n      renderer.setRenderTarget(writeBuffer);\n      if (this.clear) renderer.clear();\n      this.fsQuad.render(renderer);\n    }\n  }\n\n  setSize(width, height) {\n    this.uniforms.width.value = width;\n    this.uniforms.height.value = height;\n  }\n\n}\n\nexport { HalftonePass };\n"]},"metadata":{},"sourceType":"module"}