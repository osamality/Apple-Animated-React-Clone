{"ast":null,"code":"import { Object3D, Vector3, Matrix4 } from 'three';\n\nclass CSS2DObject extends Object3D {\n  constructor(element = document.createElement('div')) {\n    super();\n    this.isCSS2DObject = true;\n    this.element = element;\n    this.element.style.position = 'absolute';\n    this.element.style.userSelect = 'none';\n    this.element.setAttribute('draggable', false);\n    this.addEventListener('removed', function () {\n      this.traverse(function (object) {\n        if (object.element instanceof Element && object.element.parentNode !== null) {\n          object.element.parentNode.removeChild(object.element);\n        }\n      });\n    });\n  }\n\n  copy(source, recursive) {\n    super.copy(source, recursive);\n    this.element = source.element.cloneNode(true);\n    return this;\n  }\n\n}\n\nconst _vector = /*#__PURE__*/new Vector3();\n\nconst _viewMatrix = /*#__PURE__*/new Matrix4();\n\nconst _viewProjectionMatrix = /*#__PURE__*/new Matrix4();\n\nconst _a = /*#__PURE__*/new Vector3();\n\nconst _b = /*#__PURE__*/new Vector3();\n\nclass CSS2DRenderer {\n  constructor(parameters = {}) {\n    const _this = this;\n\n    let _width, _height;\n\n    let _widthHalf, _heightHalf;\n\n    const cache = {\n      objects: new WeakMap()\n    };\n    const domElement = parameters.element !== undefined ? parameters.element : document.createElement('div');\n    domElement.style.overflow = 'hidden';\n    this.domElement = domElement;\n\n    this.getSize = function () {\n      return {\n        width: _width,\n        height: _height\n      };\n    };\n\n    this.render = function (scene, camera) {\n      if (scene.matrixWorldAutoUpdate === true || scene.autoUpdate === true) scene.updateMatrixWorld();\n\n      if (camera.parent === null && (camera.matrixWorldAutoUpdate == null || camera.matrixWorldAutoUpdate === true)) {\n        camera.updateMatrixWorld();\n      }\n\n      _viewMatrix.copy(camera.matrixWorldInverse);\n\n      _viewProjectionMatrix.multiplyMatrices(camera.projectionMatrix, _viewMatrix);\n\n      renderObject(scene, scene, camera);\n      zOrder(scene);\n    };\n\n    this.setSize = function (width, height) {\n      _width = width;\n      _height = height;\n      _widthHalf = _width / 2;\n      _heightHalf = _height / 2;\n      domElement.style.width = width + 'px';\n      domElement.style.height = height + 'px';\n    };\n\n    function renderObject(object, scene, camera) {\n      if (object.isCSS2DObject) {\n        _vector.setFromMatrixPosition(object.matrixWorld);\n\n        _vector.applyMatrix4(_viewProjectionMatrix);\n\n        const visible = object.visible === true && _vector.z >= -1 && _vector.z <= 1 && object.layers.test(camera.layers) === true;\n        object.element.style.display = visible === true ? '' : 'none';\n\n        if (visible === true) {\n          object.onBeforeRender(_this, scene, camera);\n          const element = object.element;\n          element.style.transform = 'translate(-50%,-50%) translate(' + (_vector.x * _widthHalf + _widthHalf) + 'px,' + (-_vector.y * _heightHalf + _heightHalf) + 'px)';\n\n          if (element.parentNode !== domElement) {\n            domElement.appendChild(element);\n          }\n\n          object.onAfterRender(_this, scene, camera);\n        }\n\n        const objectData = {\n          distanceToCameraSquared: getDistanceToSquared(camera, object)\n        };\n        cache.objects.set(object, objectData);\n      }\n\n      for (let i = 0, l = object.children.length; i < l; i++) {\n        renderObject(object.children[i], scene, camera);\n      }\n    }\n\n    function getDistanceToSquared(object1, object2) {\n      _a.setFromMatrixPosition(object1.matrixWorld);\n\n      _b.setFromMatrixPosition(object2.matrixWorld);\n\n      return _a.distanceToSquared(_b);\n    }\n\n    function filterAndFlatten(scene) {\n      const result = [];\n      scene.traverse(function (object) {\n        if (object.isCSS2DObject) result.push(object);\n      });\n      return result;\n    }\n\n    function zOrder(scene) {\n      const sorted = filterAndFlatten(scene).sort(function (a, b) {\n        if (a.renderOrder !== b.renderOrder) {\n          return b.renderOrder - a.renderOrder;\n        }\n\n        const distanceA = cache.objects.get(a).distanceToCameraSquared;\n        const distanceB = cache.objects.get(b).distanceToCameraSquared;\n        return distanceA - distanceB;\n      });\n      const zMax = sorted.length;\n\n      for (let i = 0, l = sorted.length; i < l; i++) {\n        sorted[i].element.style.zIndex = zMax - i;\n      }\n    }\n  }\n\n}\n\nexport { CSS2DObject, CSS2DRenderer };","map":{"version":3,"sources":["/Users/osamakhan/Desktop/dev/Apple-Animated-React-Clone/node_modules/three-stdlib/renderers/CSS2DRenderer.js"],"names":["Object3D","Vector3","Matrix4","CSS2DObject","constructor","element","document","createElement","isCSS2DObject","style","position","userSelect","setAttribute","addEventListener","traverse","object","Element","parentNode","removeChild","copy","source","recursive","cloneNode","_vector","_viewMatrix","_viewProjectionMatrix","_a","_b","CSS2DRenderer","parameters","_this","_width","_height","_widthHalf","_heightHalf","cache","objects","WeakMap","domElement","undefined","overflow","getSize","width","height","render","scene","camera","matrixWorldAutoUpdate","autoUpdate","updateMatrixWorld","parent","matrixWorldInverse","multiplyMatrices","projectionMatrix","renderObject","zOrder","setSize","setFromMatrixPosition","matrixWorld","applyMatrix4","visible","z","layers","test","display","onBeforeRender","transform","x","y","appendChild","onAfterRender","objectData","distanceToCameraSquared","getDistanceToSquared","set","i","l","children","length","object1","object2","distanceToSquared","filterAndFlatten","result","push","sorted","sort","a","b","renderOrder","distanceA","get","distanceB","zMax","zIndex"],"mappings":"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","sourcesContent":["import { Object3D, Vector3, Matrix4 } from 'three';\n\nclass CSS2DObject extends Object3D {\n  constructor(element = document.createElement('div')) {\n    super();\n    this.isCSS2DObject = true;\n    this.element = element;\n    this.element.style.position = 'absolute';\n    this.element.style.userSelect = 'none';\n    this.element.setAttribute('draggable', false);\n    this.addEventListener('removed', function () {\n      this.traverse(function (object) {\n        if (object.element instanceof Element && object.element.parentNode !== null) {\n          object.element.parentNode.removeChild(object.element);\n        }\n      });\n    });\n  }\n\n  copy(source, recursive) {\n    super.copy(source, recursive);\n    this.element = source.element.cloneNode(true);\n    return this;\n  }\n\n}\n\nconst _vector = /*#__PURE__*/new Vector3();\n\nconst _viewMatrix = /*#__PURE__*/new Matrix4();\n\nconst _viewProjectionMatrix = /*#__PURE__*/new Matrix4();\n\nconst _a = /*#__PURE__*/new Vector3();\n\nconst _b = /*#__PURE__*/new Vector3();\n\nclass CSS2DRenderer {\n  constructor(parameters = {}) {\n    const _this = this;\n\n    let _width, _height;\n\n    let _widthHalf, _heightHalf;\n\n    const cache = {\n      objects: new WeakMap()\n    };\n    const domElement = parameters.element !== undefined ? parameters.element : document.createElement('div');\n    domElement.style.overflow = 'hidden';\n    this.domElement = domElement;\n\n    this.getSize = function () {\n      return {\n        width: _width,\n        height: _height\n      };\n    };\n\n    this.render = function (scene, camera) {\n      if (scene.matrixWorldAutoUpdate === true || scene.autoUpdate === true) scene.updateMatrixWorld();\n\n      if (camera.parent === null && (camera.matrixWorldAutoUpdate == null || camera.matrixWorldAutoUpdate === true)) {\n        camera.updateMatrixWorld();\n      }\n\n      _viewMatrix.copy(camera.matrixWorldInverse);\n\n      _viewProjectionMatrix.multiplyMatrices(camera.projectionMatrix, _viewMatrix);\n\n      renderObject(scene, scene, camera);\n      zOrder(scene);\n    };\n\n    this.setSize = function (width, height) {\n      _width = width;\n      _height = height;\n      _widthHalf = _width / 2;\n      _heightHalf = _height / 2;\n      domElement.style.width = width + 'px';\n      domElement.style.height = height + 'px';\n    };\n\n    function renderObject(object, scene, camera) {\n      if (object.isCSS2DObject) {\n        _vector.setFromMatrixPosition(object.matrixWorld);\n\n        _vector.applyMatrix4(_viewProjectionMatrix);\n\n        const visible = object.visible === true && _vector.z >= -1 && _vector.z <= 1 && object.layers.test(camera.layers) === true;\n        object.element.style.display = visible === true ? '' : 'none';\n\n        if (visible === true) {\n          object.onBeforeRender(_this, scene, camera);\n          const element = object.element;\n          element.style.transform = 'translate(-50%,-50%) translate(' + (_vector.x * _widthHalf + _widthHalf) + 'px,' + (-_vector.y * _heightHalf + _heightHalf) + 'px)';\n\n          if (element.parentNode !== domElement) {\n            domElement.appendChild(element);\n          }\n\n          object.onAfterRender(_this, scene, camera);\n        }\n\n        const objectData = {\n          distanceToCameraSquared: getDistanceToSquared(camera, object)\n        };\n        cache.objects.set(object, objectData);\n      }\n\n      for (let i = 0, l = object.children.length; i < l; i++) {\n        renderObject(object.children[i], scene, camera);\n      }\n    }\n\n    function getDistanceToSquared(object1, object2) {\n      _a.setFromMatrixPosition(object1.matrixWorld);\n\n      _b.setFromMatrixPosition(object2.matrixWorld);\n\n      return _a.distanceToSquared(_b);\n    }\n\n    function filterAndFlatten(scene) {\n      const result = [];\n      scene.traverse(function (object) {\n        if (object.isCSS2DObject) result.push(object);\n      });\n      return result;\n    }\n\n    function zOrder(scene) {\n      const sorted = filterAndFlatten(scene).sort(function (a, b) {\n        if (a.renderOrder !== b.renderOrder) {\n          return b.renderOrder - a.renderOrder;\n        }\n\n        const distanceA = cache.objects.get(a).distanceToCameraSquared;\n        const distanceB = cache.objects.get(b).distanceToCameraSquared;\n        return distanceA - distanceB;\n      });\n      const zMax = sorted.length;\n\n      for (let i = 0, l = sorted.length; i < l; i++) {\n        sorted[i].element.style.zIndex = zMax - i;\n      }\n    }\n  }\n\n}\n\nexport { CSS2DObject, CSS2DRenderer };\n"]},"metadata":{},"sourceType":"module"}