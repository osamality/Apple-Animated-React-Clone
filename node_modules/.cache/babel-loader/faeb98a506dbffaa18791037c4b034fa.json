{"ast":null,"code":"import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport mergeRefs from 'react-merge-refs';\nimport { MarchingCubes as MarchingCubes$1 } from 'three-stdlib';\nimport { useFrame } from '@react-three/fiber';\nconst globalContext = /*#__PURE__*/React.createContext(null);\nconst MarchingCubes = /*#__PURE__*/React.forwardRef(({\n  resolution = 28,\n  maxPolyCount = 10000,\n  enableUvs = false,\n  enableColors = false,\n  children,\n  ...props\n}, ref) => {\n  const marchingCubesRef = React.useRef(null);\n  const marchingCubes = React.useMemo(() => new MarchingCubes$1(resolution, null, enableUvs, enableColors, maxPolyCount), [resolution, maxPolyCount, enableUvs, enableColors]);\n  const api = React.useMemo(() => ({\n    getParent: () => marchingCubesRef\n  }), []);\n  useFrame(() => {\n    marchingCubes.reset();\n  }, -1); // To make sure the reset runs before the balls or planes are added\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: marchingCubes,\n    ref: mergeRefs([marchingCubesRef, ref])\n  }, props), /*#__PURE__*/React.createElement(globalContext.Provider, {\n    value: api\n  }, children)));\n});\nconst MarchingCube = /*#__PURE__*/React.forwardRef(({\n  strength = 0.5,\n  subtract = 12,\n  color,\n  ...props\n}, ref) => {\n  const {\n    getParent\n  } = React.useContext(globalContext);\n  const parentRef = React.useMemo(() => getParent(), [getParent]);\n  const cubeRef = React.useRef();\n  const vec = new THREE.Vector3();\n  useFrame(state => {\n    if (!parentRef.current || !cubeRef.current) return;\n    cubeRef.current.getWorldPosition(vec);\n    parentRef.current.addBall(0.5 + vec.x * 0.5, 0.5 + vec.y * 0.5, 0.5 + vec.z * 0.5, strength, subtract, color);\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: mergeRefs([ref, cubeRef])\n  }, props));\n});\nconst MarchingPlane = /*#__PURE__*/React.forwardRef(({\n  planeType: _planeType = 'x',\n  strength = 0.5,\n  subtract = 12,\n  ...props\n}, ref) => {\n  const {\n    getParent\n  } = React.useContext(globalContext);\n  const parentRef = React.useMemo(() => getParent(), [getParent]);\n  const wallRef = React.useRef();\n  const planeType = React.useMemo(() => _planeType === 'x' ? 'addPlaneX' : _planeType === 'y' ? 'addPlaneY' : 'addPlaneZ', [_planeType]);\n  useFrame(() => {\n    if (!parentRef.current || !wallRef.current) return;\n    parentRef.current[planeType](strength, subtract);\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: mergeRefs([ref, wallRef])\n  }, props));\n});\nexport { MarchingCube, MarchingCubes, MarchingPlane };","map":{"version":3,"sources":["/Users/osamakhan/Desktop/dev/Apple-Animated-React-Clone/node_modules/@react-three/drei/core/MarchingCubes.js"],"names":["_extends","THREE","React","mergeRefs","MarchingCubes","MarchingCubes$1","useFrame","globalContext","createContext","forwardRef","resolution","maxPolyCount","enableUvs","enableColors","children","props","ref","marchingCubesRef","useRef","marchingCubes","useMemo","api","getParent","reset","createElement","Fragment","object","Provider","value","MarchingCube","strength","subtract","color","useContext","parentRef","cubeRef","vec","Vector3","state","current","getWorldPosition","addBall","x","y","z","MarchingPlane","planeType","_planeType","wallRef"],"mappings":"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","sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport mergeRefs from 'react-merge-refs';\nimport { MarchingCubes as MarchingCubes$1 } from 'three-stdlib';\nimport { useFrame } from '@react-three/fiber';\n\nconst globalContext = /*#__PURE__*/React.createContext(null);\nconst MarchingCubes = /*#__PURE__*/React.forwardRef(({\n  resolution = 28,\n  maxPolyCount = 10000,\n  enableUvs = false,\n  enableColors = false,\n  children,\n  ...props\n}, ref) => {\n  const marchingCubesRef = React.useRef(null);\n  const marchingCubes = React.useMemo(() => new MarchingCubes$1(resolution, null, enableUvs, enableColors, maxPolyCount), [resolution, maxPolyCount, enableUvs, enableColors]);\n  const api = React.useMemo(() => ({\n    getParent: () => marchingCubesRef\n  }), []);\n  useFrame(() => {\n    marchingCubes.reset();\n  }, -1); // To make sure the reset runs before the balls or planes are added\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: marchingCubes,\n    ref: mergeRefs([marchingCubesRef, ref])\n  }, props), /*#__PURE__*/React.createElement(globalContext.Provider, {\n    value: api\n  }, children)));\n});\nconst MarchingCube = /*#__PURE__*/React.forwardRef(({\n  strength = 0.5,\n  subtract = 12,\n  color,\n  ...props\n}, ref) => {\n  const {\n    getParent\n  } = React.useContext(globalContext);\n  const parentRef = React.useMemo(() => getParent(), [getParent]);\n  const cubeRef = React.useRef();\n  const vec = new THREE.Vector3();\n  useFrame(state => {\n    if (!parentRef.current || !cubeRef.current) return;\n    cubeRef.current.getWorldPosition(vec);\n    parentRef.current.addBall(0.5 + vec.x * 0.5, 0.5 + vec.y * 0.5, 0.5 + vec.z * 0.5, strength, subtract, color);\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: mergeRefs([ref, cubeRef])\n  }, props));\n});\nconst MarchingPlane = /*#__PURE__*/React.forwardRef(({\n  planeType: _planeType = 'x',\n  strength = 0.5,\n  subtract = 12,\n  ...props\n}, ref) => {\n  const {\n    getParent\n  } = React.useContext(globalContext);\n  const parentRef = React.useMemo(() => getParent(), [getParent]);\n  const wallRef = React.useRef();\n  const planeType = React.useMemo(() => _planeType === 'x' ? 'addPlaneX' : _planeType === 'y' ? 'addPlaneY' : 'addPlaneZ', [_planeType]);\n  useFrame(() => {\n    if (!parentRef.current || !wallRef.current) return;\n    parentRef.current[planeType](strength, subtract);\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: mergeRefs([ref, wallRef])\n  }, props));\n});\n\nexport { MarchingCube, MarchingCubes, MarchingPlane };\n"]},"metadata":{},"sourceType":"module"}