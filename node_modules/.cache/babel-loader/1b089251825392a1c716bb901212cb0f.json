{"ast":null,"code":"import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom/client';\nimport { useThree, useFrame, context as context$1 } from '@react-three/fiber';\nimport mergeRefs from 'react-merge-refs';\nimport { easing } from 'maath';\nconst context = /*#__PURE__*/React.createContext(null);\n\nfunction useScroll() {\n  return React.useContext(context);\n}\n\nfunction ScrollControls({\n  eps = 0.00001,\n  enabled = true,\n  infinite,\n  horizontal,\n  pages = 1,\n  distance = 1,\n  damping = 0.25,\n  maxSpeed = Infinity,\n  style = {},\n  children\n}) {\n  const {\n    get,\n    setEvents,\n    gl,\n    size,\n    invalidate,\n    events\n  } = useThree();\n  const [el] = React.useState(() => document.createElement('div'));\n  const [fill] = React.useState(() => document.createElement('div'));\n  const [fixed] = React.useState(() => document.createElement('div'));\n  const target = gl.domElement.parentNode;\n  const scroll = React.useRef(0);\n  const state = React.useMemo(() => {\n    const state = {\n      el,\n      eps,\n      fill,\n      fixed,\n      horizontal,\n      damping,\n      offset: 0,\n      delta: 0,\n      scroll,\n      pages,\n\n      // 0-1 for a range between from -> from + distance\n      range(from, distance, margin = 0) {\n        const start = from - margin;\n        const end = start + distance + margin * 2;\n        return this.offset < start ? 0 : this.offset > end ? 1 : (this.offset - start) / (end - start);\n      },\n\n      // 0-1-0 for a range between from -> from + distance\n      curve(from, distance, margin = 0) {\n        return Math.sin(this.range(from, distance, margin) * Math.PI);\n      },\n\n      // true/false for a range between from -> from + distance\n      visible(from, distance, margin = 0) {\n        const start = from - margin;\n        const end = start + distance + margin * 2;\n        return this.offset >= start && this.offset <= end;\n      }\n\n    };\n    return state;\n  }, [eps, damping, horizontal, pages]);\n  React.useEffect(() => {\n    el.style.position = 'absolute';\n    el.style.width = '100%';\n    el.style.height = '100%';\n    el.style[horizontal ? 'overflowX' : 'overflowY'] = 'auto';\n    el.style[horizontal ? 'overflowY' : 'overflowX'] = 'hidden';\n    el.style.top = '0px';\n    el.style.left = '0px';\n\n    for (const key in style) {\n      el.style[key] = style[key];\n    }\n\n    fixed.style.position = 'sticky';\n    fixed.style.top = '0px';\n    fixed.style.left = '0px';\n    fixed.style.width = '100%';\n    fixed.style.height = '100%';\n    fixed.style.overflow = 'hidden';\n    el.appendChild(fixed);\n    fill.style.height = horizontal ? '100%' : `${pages * distance * 100}%`;\n    fill.style.width = horizontal ? `${pages * distance * 100}%` : '100%';\n    fill.style.pointerEvents = 'none';\n    el.appendChild(fill);\n    target.appendChild(el); // Init scroll one pixel in to allow upward/leftward scroll\n\n    el[horizontal ? 'scrollLeft' : 'scrollTop'] = 1;\n    const oldTarget = events.connected || gl.domElement;\n    requestAnimationFrame(() => events.connect == null ? void 0 : events.connect(el));\n    const oldCompute = get().events.compute;\n    setEvents({\n      compute(event, state) {\n        // we are using boundingClientRect because we could not rely on target.offsetTop as canvas could be positioned anywhere in dom\n        const {\n          left,\n          top\n        } = target.getBoundingClientRect();\n        const offsetX = event.clientX - left;\n        const offsetY = event.clientY - top;\n        state.pointer.set(offsetX / state.size.width * 2 - 1, -(offsetY / state.size.height) * 2 + 1);\n        state.raycaster.setFromCamera(state.pointer, state.camera);\n      }\n\n    });\n    return () => {\n      target.removeChild(el);\n      setEvents({\n        compute: oldCompute\n      });\n      events.connect == null ? void 0 : events.connect(oldTarget);\n    };\n  }, [pages, distance, horizontal, el, fill, fixed, target]);\n  React.useEffect(() => {\n    if (events.connected === el) {\n      const containerLength = size[horizontal ? 'width' : 'height'];\n      const scrollLength = el[horizontal ? 'scrollWidth' : 'scrollHeight'];\n      const scrollThreshold = scrollLength - containerLength;\n      let current = 0;\n      let disableScroll = true;\n      let firstRun = true;\n\n      const onScroll = () => {\n        // Prevent first scroll because it is indirectly caused by the one pixel offset\n        if (!enabled || firstRun) return;\n        invalidate();\n        current = el[horizontal ? 'scrollLeft' : 'scrollTop'];\n        scroll.current = current / scrollThreshold;\n\n        if (infinite) {\n          if (!disableScroll) {\n            if (current >= scrollThreshold) {\n              const damp = 1 - state.offset;\n              el[horizontal ? 'scrollLeft' : 'scrollTop'] = 1;\n              scroll.current = state.offset = -damp;\n              disableScroll = true;\n            } else if (current <= 0) {\n              const damp = 1 + state.offset;\n              el[horizontal ? 'scrollLeft' : 'scrollTop'] = scrollLength;\n              scroll.current = state.offset = damp;\n              disableScroll = true;\n            }\n          }\n\n          if (disableScroll) setTimeout(() => disableScroll = false, 40);\n        }\n      };\n\n      el.addEventListener('scroll', onScroll, {\n        passive: true\n      });\n      requestAnimationFrame(() => firstRun = false);\n\n      const onWheel = e => el.scrollLeft += e.deltaY / 2;\n\n      if (horizontal) el.addEventListener('wheel', onWheel, {\n        passive: true\n      });\n      return () => {\n        el.removeEventListener('scroll', onScroll);\n        if (horizontal) el.removeEventListener('wheel', onWheel);\n      };\n    }\n  }, [el, events, size, infinite, state, invalidate, horizontal, enabled]);\n  let last = 0;\n  useFrame((_, delta) => {\n    last = state.offset;\n    easing.damp(state, 'offset', scroll.current, damping, delta, maxSpeed, undefined, eps);\n    easing.damp(state, 'delta', Math.abs(last - state.offset), damping, delta, maxSpeed, undefined, eps);\n    if (state.delta > eps) invalidate();\n  });\n  return /*#__PURE__*/React.createElement(context.Provider, {\n    value: state\n  }, children);\n}\n\nconst ScrollCanvas = /*#__PURE__*/React.forwardRef(({\n  children\n}, ref) => {\n  const group = React.useRef(null);\n  const state = useScroll();\n  const {\n    width,\n    height\n  } = useThree(state => state.viewport);\n  useFrame(() => {\n    group.current.position.x = state.horizontal ? -width * (state.pages - 1) * state.offset : 0;\n    group.current.position.y = state.horizontal ? 0 : height * (state.pages - 1) * state.offset;\n  });\n  return /*#__PURE__*/React.createElement(\"group\", {\n    ref: mergeRefs([ref, group])\n  }, children);\n});\nconst ScrollHtml = /*#__PURE__*/React.forwardRef(({\n  children,\n  style,\n  ...props\n}, ref) => {\n  const state = useScroll();\n  const group = React.useRef(null);\n  const {\n    width,\n    height\n  } = useThree(state => state.size);\n  const fiberState = React.useContext(context$1);\n  const root = React.useMemo(() => ReactDOM.createRoot(state.fixed), [state.fixed]);\n  useFrame(() => {\n    if (state.delta > state.eps) {\n      group.current.style.transform = `translate3d(${state.horizontal ? -width * (state.pages - 1) * state.offset : 0}px,${state.horizontal ? 0 : height * (state.pages - 1) * -state.offset}px,0)`;\n    }\n  });\n  root.render( /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: mergeRefs([ref, group]),\n    style: { ...style,\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      willChange: 'transform'\n    }\n  }, props), /*#__PURE__*/React.createElement(context.Provider, {\n    value: state\n  }, /*#__PURE__*/React.createElement(context$1.Provider, {\n    value: fiberState\n  }, children))));\n  return null;\n});\nconst Scroll = /*#__PURE__*/React.forwardRef(({\n  html,\n  ...props\n}, ref) => {\n  const El = html ? ScrollHtml : ScrollCanvas;\n  return /*#__PURE__*/React.createElement(El, _extends({\n    ref: ref\n  }, props));\n});\nexport { Scroll, ScrollControls, useScroll };","map":{"version":3,"sources":["/Users/osamakhan/Desktop/Apple-Website-Clone-React-master/node_modules/@react-three/drei/web/ScrollControls.js"],"names":["_extends","React","ReactDOM","useThree","useFrame","context","context$1","mergeRefs","easing","createContext","useScroll","useContext","ScrollControls","eps","enabled","infinite","horizontal","pages","distance","damping","maxSpeed","Infinity","style","children","get","setEvents","gl","size","invalidate","events","el","useState","document","createElement","fill","fixed","target","domElement","parentNode","scroll","useRef","state","useMemo","offset","delta","range","from","margin","start","end","curve","Math","sin","PI","visible","useEffect","position","width","height","top","left","key","overflow","appendChild","pointerEvents","oldTarget","connected","requestAnimationFrame","connect","oldCompute","compute","event","getBoundingClientRect","offsetX","clientX","offsetY","clientY","pointer","set","raycaster","setFromCamera","camera","removeChild","containerLength","scrollLength","scrollThreshold","current","disableScroll","firstRun","onScroll","damp","setTimeout","addEventListener","passive","onWheel","e","scrollLeft","deltaY","removeEventListener","last","_","undefined","abs","Provider","value","ScrollCanvas","forwardRef","ref","group","viewport","x","y","ScrollHtml","props","fiberState","root","createRoot","transform","render","willChange","Scroll","html","El"],"mappings":"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","sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom/client';\nimport { useThree, useFrame, context as context$1 } from '@react-three/fiber';\nimport mergeRefs from 'react-merge-refs';\nimport { easing } from 'maath';\n\nconst context = /*#__PURE__*/React.createContext(null);\nfunction useScroll() {\n  return React.useContext(context);\n}\nfunction ScrollControls({\n  eps = 0.00001,\n  enabled = true,\n  infinite,\n  horizontal,\n  pages = 1,\n  distance = 1,\n  damping = 0.25,\n  maxSpeed = Infinity,\n  style = {},\n  children\n}) {\n  const {\n    get,\n    setEvents,\n    gl,\n    size,\n    invalidate,\n    events\n  } = useThree();\n  const [el] = React.useState(() => document.createElement('div'));\n  const [fill] = React.useState(() => document.createElement('div'));\n  const [fixed] = React.useState(() => document.createElement('div'));\n  const target = gl.domElement.parentNode;\n  const scroll = React.useRef(0);\n  const state = React.useMemo(() => {\n    const state = {\n      el,\n      eps,\n      fill,\n      fixed,\n      horizontal,\n      damping,\n      offset: 0,\n      delta: 0,\n      scroll,\n      pages,\n\n      // 0-1 for a range between from -> from + distance\n      range(from, distance, margin = 0) {\n        const start = from - margin;\n        const end = start + distance + margin * 2;\n        return this.offset < start ? 0 : this.offset > end ? 1 : (this.offset - start) / (end - start);\n      },\n\n      // 0-1-0 for a range between from -> from + distance\n      curve(from, distance, margin = 0) {\n        return Math.sin(this.range(from, distance, margin) * Math.PI);\n      },\n\n      // true/false for a range between from -> from + distance\n      visible(from, distance, margin = 0) {\n        const start = from - margin;\n        const end = start + distance + margin * 2;\n        return this.offset >= start && this.offset <= end;\n      }\n\n    };\n    return state;\n  }, [eps, damping, horizontal, pages]);\n  React.useEffect(() => {\n    el.style.position = 'absolute';\n    el.style.width = '100%';\n    el.style.height = '100%';\n    el.style[horizontal ? 'overflowX' : 'overflowY'] = 'auto';\n    el.style[horizontal ? 'overflowY' : 'overflowX'] = 'hidden';\n    el.style.top = '0px';\n    el.style.left = '0px';\n\n    for (const key in style) {\n      el.style[key] = style[key];\n    }\n\n    fixed.style.position = 'sticky';\n    fixed.style.top = '0px';\n    fixed.style.left = '0px';\n    fixed.style.width = '100%';\n    fixed.style.height = '100%';\n    fixed.style.overflow = 'hidden';\n    el.appendChild(fixed);\n    fill.style.height = horizontal ? '100%' : `${pages * distance * 100}%`;\n    fill.style.width = horizontal ? `${pages * distance * 100}%` : '100%';\n    fill.style.pointerEvents = 'none';\n    el.appendChild(fill);\n    target.appendChild(el); // Init scroll one pixel in to allow upward/leftward scroll\n\n    el[horizontal ? 'scrollLeft' : 'scrollTop'] = 1;\n    const oldTarget = events.connected || gl.domElement;\n    requestAnimationFrame(() => events.connect == null ? void 0 : events.connect(el));\n    const oldCompute = get().events.compute;\n    setEvents({\n      compute(event, state) {\n        // we are using boundingClientRect because we could not rely on target.offsetTop as canvas could be positioned anywhere in dom\n        const {\n          left,\n          top\n        } = target.getBoundingClientRect();\n        const offsetX = event.clientX - left;\n        const offsetY = event.clientY - top;\n        state.pointer.set(offsetX / state.size.width * 2 - 1, -(offsetY / state.size.height) * 2 + 1);\n        state.raycaster.setFromCamera(state.pointer, state.camera);\n      }\n\n    });\n    return () => {\n      target.removeChild(el);\n      setEvents({\n        compute: oldCompute\n      });\n      events.connect == null ? void 0 : events.connect(oldTarget);\n    };\n  }, [pages, distance, horizontal, el, fill, fixed, target]);\n  React.useEffect(() => {\n    if (events.connected === el) {\n      const containerLength = size[horizontal ? 'width' : 'height'];\n      const scrollLength = el[horizontal ? 'scrollWidth' : 'scrollHeight'];\n      const scrollThreshold = scrollLength - containerLength;\n      let current = 0;\n      let disableScroll = true;\n      let firstRun = true;\n\n      const onScroll = () => {\n        // Prevent first scroll because it is indirectly caused by the one pixel offset\n        if (!enabled || firstRun) return;\n        invalidate();\n        current = el[horizontal ? 'scrollLeft' : 'scrollTop'];\n        scroll.current = current / scrollThreshold;\n\n        if (infinite) {\n          if (!disableScroll) {\n            if (current >= scrollThreshold) {\n              const damp = 1 - state.offset;\n              el[horizontal ? 'scrollLeft' : 'scrollTop'] = 1;\n              scroll.current = state.offset = -damp;\n              disableScroll = true;\n            } else if (current <= 0) {\n              const damp = 1 + state.offset;\n              el[horizontal ? 'scrollLeft' : 'scrollTop'] = scrollLength;\n              scroll.current = state.offset = damp;\n              disableScroll = true;\n            }\n          }\n\n          if (disableScroll) setTimeout(() => disableScroll = false, 40);\n        }\n      };\n\n      el.addEventListener('scroll', onScroll, {\n        passive: true\n      });\n      requestAnimationFrame(() => firstRun = false);\n\n      const onWheel = e => el.scrollLeft += e.deltaY / 2;\n\n      if (horizontal) el.addEventListener('wheel', onWheel, {\n        passive: true\n      });\n      return () => {\n        el.removeEventListener('scroll', onScroll);\n        if (horizontal) el.removeEventListener('wheel', onWheel);\n      };\n    }\n  }, [el, events, size, infinite, state, invalidate, horizontal, enabled]);\n  let last = 0;\n  useFrame((_, delta) => {\n    last = state.offset;\n    easing.damp(state, 'offset', scroll.current, damping, delta, maxSpeed, undefined, eps);\n    easing.damp(state, 'delta', Math.abs(last - state.offset), damping, delta, maxSpeed, undefined, eps);\n    if (state.delta > eps) invalidate();\n  });\n  return /*#__PURE__*/React.createElement(context.Provider, {\n    value: state\n  }, children);\n}\nconst ScrollCanvas = /*#__PURE__*/React.forwardRef(({\n  children\n}, ref) => {\n  const group = React.useRef(null);\n  const state = useScroll();\n  const {\n    width,\n    height\n  } = useThree(state => state.viewport);\n  useFrame(() => {\n    group.current.position.x = state.horizontal ? -width * (state.pages - 1) * state.offset : 0;\n    group.current.position.y = state.horizontal ? 0 : height * (state.pages - 1) * state.offset;\n  });\n  return /*#__PURE__*/React.createElement(\"group\", {\n    ref: mergeRefs([ref, group])\n  }, children);\n});\nconst ScrollHtml = /*#__PURE__*/React.forwardRef(({\n  children,\n  style,\n  ...props\n}, ref) => {\n  const state = useScroll();\n  const group = React.useRef(null);\n  const {\n    width,\n    height\n  } = useThree(state => state.size);\n  const fiberState = React.useContext(context$1);\n  const root = React.useMemo(() => ReactDOM.createRoot(state.fixed), [state.fixed]);\n  useFrame(() => {\n    if (state.delta > state.eps) {\n      group.current.style.transform = `translate3d(${state.horizontal ? -width * (state.pages - 1) * state.offset : 0}px,${state.horizontal ? 0 : height * (state.pages - 1) * -state.offset}px,0)`;\n    }\n  });\n  root.render( /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: mergeRefs([ref, group]),\n    style: { ...style,\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      willChange: 'transform'\n    }\n  }, props), /*#__PURE__*/React.createElement(context.Provider, {\n    value: state\n  }, /*#__PURE__*/React.createElement(context$1.Provider, {\n    value: fiberState\n  }, children))));\n  return null;\n});\nconst Scroll = /*#__PURE__*/React.forwardRef(({\n  html,\n  ...props\n}, ref) => {\n  const El = html ? ScrollHtml : ScrollCanvas;\n  return /*#__PURE__*/React.createElement(El, _extends({\n    ref: ref\n  }, props));\n});\n\nexport { Scroll, ScrollControls, useScroll };\n"]},"metadata":{},"sourceType":"module"}